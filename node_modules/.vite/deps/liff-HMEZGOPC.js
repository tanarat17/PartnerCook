import {
  __commonJS,
  __toESM
} from "./chunk-V4OQ3NZ2.js";

// node_modules/tiny-sha256/index.js
var require_tiny_sha256 = __commonJS({
  "node_modules/tiny-sha256/index.js"(exports, module) {
    (function(global2, factory) {
      if (typeof define === "function" && define.amd) {
        define([], factory);
      } else if (typeof module !== "undefined" && module.exports) {
        module.exports = factory();
      } else {
        global2.sha256 = factory();
      }
    })(exports, function() {
      var sha256 = function sha2562(ascii) {
        function rightRotate(value, amount) {
          return value >>> amount | value << 32 - amount;
        }
        ;
        var mathPow = Math.pow;
        var maxWord = mathPow(2, 32);
        var lengthProperty = "length";
        var i6, j3;
        var result = "";
        var words = [];
        var asciiBitLength = ascii[lengthProperty] * 8;
        var hash = sha2562.h = sha2562.h || [];
        var k4 = sha2562.k = sha2562.k || [];
        var primeCounter = k4[lengthProperty];
        var isComposite = {};
        for (var candidate = 2; primeCounter < 64; candidate++) {
          if (!isComposite[candidate]) {
            for (i6 = 0; i6 < 313; i6 += candidate) {
              isComposite[i6] = candidate;
            }
            hash[primeCounter] = mathPow(candidate, 0.5) * maxWord | 0;
            k4[primeCounter++] = mathPow(candidate, 1 / 3) * maxWord | 0;
          }
        }
        ascii += "Â€";
        while (ascii[lengthProperty] % 64 - 56) ascii += "\0";
        for (i6 = 0; i6 < ascii[lengthProperty]; i6++) {
          j3 = ascii.charCodeAt(i6);
          if (j3 >> 8) return;
          words[i6 >> 2] |= j3 << (3 - i6) % 4 * 8;
        }
        words[words[lengthProperty]] = asciiBitLength / maxWord | 0;
        words[words[lengthProperty]] = asciiBitLength;
        for (j3 = 0; j3 < words[lengthProperty]; ) {
          var w7 = words.slice(j3, j3 += 16);
          var oldHash = hash;
          hash = hash.slice(0, 8);
          for (i6 = 0; i6 < 64; i6++) {
            var i22 = i6 + j3;
            var w15 = w7[i6 - 15], w22 = w7[i6 - 2];
            var a10 = hash[0], e10 = hash[4];
            var temp1 = hash[7] + (rightRotate(e10, 6) ^ rightRotate(e10, 11) ^ rightRotate(e10, 25)) + (e10 & hash[5] ^ ~e10 & hash[6]) + k4[i6] + (w7[i6] = i6 < 16 ? w7[i6] : w7[i6 - 16] + (rightRotate(w15, 7) ^ rightRotate(w15, 18) ^ w15 >>> 3) + w7[i6 - 7] + (rightRotate(w22, 17) ^ rightRotate(w22, 19) ^ w22 >>> 10) | 0);
            var temp2 = (rightRotate(a10, 2) ^ rightRotate(a10, 13) ^ rightRotate(a10, 22)) + (a10 & hash[1] ^ a10 & hash[2] ^ hash[1] & hash[2]);
            hash = [temp1 + temp2 | 0].concat(hash);
            hash[4] = hash[4] + temp1 | 0;
          }
          for (i6 = 0; i6 < 8; i6++) {
            hash[i6] = hash[i6] + oldHash[i6] | 0;
          }
        }
        for (i6 = 0; i6 < 8; i6++) {
          for (j3 = 3; j3 + 1; j3--) {
            var b8 = hash[i6] >> j3 * 8 & 255;
            result += (b8 < 16 ? 0 : "") + b8.toString(16);
          }
        }
        return result;
      };
      sha256.code = 'var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};';
      return sha256;
    });
  }
});

// node_modules/whatwg-fetch/fetch.js
var g = typeof globalThis !== "undefined" && globalThis || typeof self !== "undefined" && self || // eslint-disable-next-line no-undef
typeof global !== "undefined" && global || {};
var support = {
  searchParams: "URLSearchParams" in g,
  iterable: "Symbol" in g && "iterator" in Symbol,
  blob: "FileReader" in g && "Blob" in g && function() {
    try {
      new Blob();
      return true;
    } catch (e10) {
      return false;
    }
  }(),
  formData: "FormData" in g,
  arrayBuffer: "ArrayBuffer" in g
};
function isDataView(obj) {
  return obj && DataView.prototype.isPrototypeOf(obj);
}
if (support.arrayBuffer) {
  viewClasses = [
    "[object Int8Array]",
    "[object Uint8Array]",
    "[object Uint8ClampedArray]",
    "[object Int16Array]",
    "[object Uint16Array]",
    "[object Int32Array]",
    "[object Uint32Array]",
    "[object Float32Array]",
    "[object Float64Array]"
  ];
  isArrayBufferView = ArrayBuffer.isView || function(obj) {
    return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;
  };
}
var viewClasses;
var isArrayBufferView;
function normalizeName(name) {
  if (typeof name !== "string") {
    name = String(name);
  }
  if (/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(name) || name === "") {
    throw new TypeError('Invalid character in header field name: "' + name + '"');
  }
  return name.toLowerCase();
}
function normalizeValue(value) {
  if (typeof value !== "string") {
    value = String(value);
  }
  return value;
}
function iteratorFor(items) {
  var iterator = {
    next: function() {
      var value = items.shift();
      return { done: value === void 0, value };
    }
  };
  if (support.iterable) {
    iterator[Symbol.iterator] = function() {
      return iterator;
    };
  }
  return iterator;
}
function Headers(headers) {
  this.map = {};
  if (headers instanceof Headers) {
    headers.forEach(function(value, name) {
      this.append(name, value);
    }, this);
  } else if (Array.isArray(headers)) {
    headers.forEach(function(header) {
      if (header.length != 2) {
        throw new TypeError("Headers constructor: expected name/value pair to be length 2, found" + header.length);
      }
      this.append(header[0], header[1]);
    }, this);
  } else if (headers) {
    Object.getOwnPropertyNames(headers).forEach(function(name) {
      this.append(name, headers[name]);
    }, this);
  }
}
Headers.prototype.append = function(name, value) {
  name = normalizeName(name);
  value = normalizeValue(value);
  var oldValue = this.map[name];
  this.map[name] = oldValue ? oldValue + ", " + value : value;
};
Headers.prototype["delete"] = function(name) {
  delete this.map[normalizeName(name)];
};
Headers.prototype.get = function(name) {
  name = normalizeName(name);
  return this.has(name) ? this.map[name] : null;
};
Headers.prototype.has = function(name) {
  return this.map.hasOwnProperty(normalizeName(name));
};
Headers.prototype.set = function(name, value) {
  this.map[normalizeName(name)] = normalizeValue(value);
};
Headers.prototype.forEach = function(callback, thisArg) {
  for (var name in this.map) {
    if (this.map.hasOwnProperty(name)) {
      callback.call(thisArg, this.map[name], name, this);
    }
  }
};
Headers.prototype.keys = function() {
  var items = [];
  this.forEach(function(value, name) {
    items.push(name);
  });
  return iteratorFor(items);
};
Headers.prototype.values = function() {
  var items = [];
  this.forEach(function(value) {
    items.push(value);
  });
  return iteratorFor(items);
};
Headers.prototype.entries = function() {
  var items = [];
  this.forEach(function(value, name) {
    items.push([name, value]);
  });
  return iteratorFor(items);
};
if (support.iterable) {
  Headers.prototype[Symbol.iterator] = Headers.prototype.entries;
}
function consumed(body) {
  if (body._noBody) return;
  if (body.bodyUsed) {
    return Promise.reject(new TypeError("Already read"));
  }
  body.bodyUsed = true;
}
function fileReaderReady(reader) {
  return new Promise(function(resolve, reject) {
    reader.onload = function() {
      resolve(reader.result);
    };
    reader.onerror = function() {
      reject(reader.error);
    };
  });
}
function readBlobAsArrayBuffer(blob) {
  var reader = new FileReader();
  var promise = fileReaderReady(reader);
  reader.readAsArrayBuffer(blob);
  return promise;
}
function readBlobAsText(blob) {
  var reader = new FileReader();
  var promise = fileReaderReady(reader);
  var match = /charset=([A-Za-z0-9_-]+)/.exec(blob.type);
  var encoding = match ? match[1] : "utf-8";
  reader.readAsText(blob, encoding);
  return promise;
}
function readArrayBufferAsText(buf) {
  var view = new Uint8Array(buf);
  var chars = new Array(view.length);
  for (var i6 = 0; i6 < view.length; i6++) {
    chars[i6] = String.fromCharCode(view[i6]);
  }
  return chars.join("");
}
function bufferClone(buf) {
  if (buf.slice) {
    return buf.slice(0);
  } else {
    var view = new Uint8Array(buf.byteLength);
    view.set(new Uint8Array(buf));
    return view.buffer;
  }
}
function Body() {
  this.bodyUsed = false;
  this._initBody = function(body) {
    this.bodyUsed = this.bodyUsed;
    this._bodyInit = body;
    if (!body) {
      this._noBody = true;
      this._bodyText = "";
    } else if (typeof body === "string") {
      this._bodyText = body;
    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
      this._bodyBlob = body;
    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
      this._bodyFormData = body;
    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
      this._bodyText = body.toString();
    } else if (support.arrayBuffer && support.blob && isDataView(body)) {
      this._bodyArrayBuffer = bufferClone(body.buffer);
      this._bodyInit = new Blob([this._bodyArrayBuffer]);
    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
      this._bodyArrayBuffer = bufferClone(body);
    } else {
      this._bodyText = body = Object.prototype.toString.call(body);
    }
    if (!this.headers.get("content-type")) {
      if (typeof body === "string") {
        this.headers.set("content-type", "text/plain;charset=UTF-8");
      } else if (this._bodyBlob && this._bodyBlob.type) {
        this.headers.set("content-type", this._bodyBlob.type);
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
      }
    }
  };
  if (support.blob) {
    this.blob = function() {
      var rejected = consumed(this);
      if (rejected) {
        return rejected;
      }
      if (this._bodyBlob) {
        return Promise.resolve(this._bodyBlob);
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(new Blob([this._bodyArrayBuffer]));
      } else if (this._bodyFormData) {
        throw new Error("could not read FormData body as blob");
      } else {
        return Promise.resolve(new Blob([this._bodyText]));
      }
    };
  }
  this.arrayBuffer = function() {
    if (this._bodyArrayBuffer) {
      var isConsumed = consumed(this);
      if (isConsumed) {
        return isConsumed;
      } else if (ArrayBuffer.isView(this._bodyArrayBuffer)) {
        return Promise.resolve(
          this._bodyArrayBuffer.buffer.slice(
            this._bodyArrayBuffer.byteOffset,
            this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength
          )
        );
      } else {
        return Promise.resolve(this._bodyArrayBuffer);
      }
    } else if (support.blob) {
      return this.blob().then(readBlobAsArrayBuffer);
    } else {
      throw new Error("could not read as ArrayBuffer");
    }
  };
  this.text = function() {
    var rejected = consumed(this);
    if (rejected) {
      return rejected;
    }
    if (this._bodyBlob) {
      return readBlobAsText(this._bodyBlob);
    } else if (this._bodyArrayBuffer) {
      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));
    } else if (this._bodyFormData) {
      throw new Error("could not read FormData body as text");
    } else {
      return Promise.resolve(this._bodyText);
    }
  };
  if (support.formData) {
    this.formData = function() {
      return this.text().then(decode);
    };
  }
  this.json = function() {
    return this.text().then(JSON.parse);
  };
  return this;
}
var methods = ["CONNECT", "DELETE", "GET", "HEAD", "OPTIONS", "PATCH", "POST", "PUT", "TRACE"];
function normalizeMethod(method) {
  var upcased = method.toUpperCase();
  return methods.indexOf(upcased) > -1 ? upcased : method;
}
function Request(input, options) {
  if (!(this instanceof Request)) {
    throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
  }
  options = options || {};
  var body = options.body;
  if (input instanceof Request) {
    if (input.bodyUsed) {
      throw new TypeError("Already read");
    }
    this.url = input.url;
    this.credentials = input.credentials;
    if (!options.headers) {
      this.headers = new Headers(input.headers);
    }
    this.method = input.method;
    this.mode = input.mode;
    this.signal = input.signal;
    if (!body && input._bodyInit != null) {
      body = input._bodyInit;
      input.bodyUsed = true;
    }
  } else {
    this.url = String(input);
  }
  this.credentials = options.credentials || this.credentials || "same-origin";
  if (options.headers || !this.headers) {
    this.headers = new Headers(options.headers);
  }
  this.method = normalizeMethod(options.method || this.method || "GET");
  this.mode = options.mode || this.mode || null;
  this.signal = options.signal || this.signal || function() {
    if ("AbortController" in g) {
      var ctrl = new AbortController();
      return ctrl.signal;
    }
  }();
  this.referrer = null;
  if ((this.method === "GET" || this.method === "HEAD") && body) {
    throw new TypeError("Body not allowed for GET or HEAD requests");
  }
  this._initBody(body);
  if (this.method === "GET" || this.method === "HEAD") {
    if (options.cache === "no-store" || options.cache === "no-cache") {
      var reParamSearch = /([?&])_=[^&]*/;
      if (reParamSearch.test(this.url)) {
        this.url = this.url.replace(reParamSearch, "$1_=" + (/* @__PURE__ */ new Date()).getTime());
      } else {
        var reQueryString = /\?/;
        this.url += (reQueryString.test(this.url) ? "&" : "?") + "_=" + (/* @__PURE__ */ new Date()).getTime();
      }
    }
  }
}
Request.prototype.clone = function() {
  return new Request(this, { body: this._bodyInit });
};
function decode(body) {
  var form = new FormData();
  body.trim().split("&").forEach(function(bytes) {
    if (bytes) {
      var split = bytes.split("=");
      var name = split.shift().replace(/\+/g, " ");
      var value = split.join("=").replace(/\+/g, " ");
      form.append(decodeURIComponent(name), decodeURIComponent(value));
    }
  });
  return form;
}
function parseHeaders(rawHeaders) {
  var headers = new Headers();
  var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, " ");
  preProcessedHeaders.split("\r").map(function(header) {
    return header.indexOf("\n") === 0 ? header.substr(1, header.length) : header;
  }).forEach(function(line) {
    var parts = line.split(":");
    var key = parts.shift().trim();
    if (key) {
      var value = parts.join(":").trim();
      try {
        headers.append(key, value);
      } catch (error) {
        console.warn("Response " + error.message);
      }
    }
  });
  return headers;
}
Body.call(Request.prototype);
function Response(bodyInit, options) {
  if (!(this instanceof Response)) {
    throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
  }
  if (!options) {
    options = {};
  }
  this.type = "default";
  this.status = options.status === void 0 ? 200 : options.status;
  if (this.status < 200 || this.status > 599) {
    throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");
  }
  this.ok = this.status >= 200 && this.status < 300;
  this.statusText = options.statusText === void 0 ? "" : "" + options.statusText;
  this.headers = new Headers(options.headers);
  this.url = options.url || "";
  this._initBody(bodyInit);
}
Body.call(Response.prototype);
Response.prototype.clone = function() {
  return new Response(this._bodyInit, {
    status: this.status,
    statusText: this.statusText,
    headers: new Headers(this.headers),
    url: this.url
  });
};
Response.error = function() {
  var response = new Response(null, { status: 200, statusText: "" });
  response.ok = false;
  response.status = 0;
  response.type = "error";
  return response;
};
var redirectStatuses = [301, 302, 303, 307, 308];
Response.redirect = function(url, status) {
  if (redirectStatuses.indexOf(status) === -1) {
    throw new RangeError("Invalid status code");
  }
  return new Response(null, { status, headers: { location: url } });
};
var DOMException = g.DOMException;
try {
  new DOMException();
} catch (err) {
  DOMException = function(message, name) {
    this.message = message;
    this.name = name;
    var error = Error(message);
    this.stack = error.stack;
  };
  DOMException.prototype = Object.create(Error.prototype);
  DOMException.prototype.constructor = DOMException;
}
function fetch2(input, init) {
  return new Promise(function(resolve, reject) {
    var request = new Request(input, init);
    if (request.signal && request.signal.aborted) {
      return reject(new DOMException("Aborted", "AbortError"));
    }
    var xhr = new XMLHttpRequest();
    function abortXhr() {
      xhr.abort();
    }
    xhr.onload = function() {
      var options = {
        statusText: xhr.statusText,
        headers: parseHeaders(xhr.getAllResponseHeaders() || "")
      };
      if (request.url.indexOf("file://") === 0 && (xhr.status < 200 || xhr.status > 599)) {
        options.status = 200;
      } else {
        options.status = xhr.status;
      }
      options.url = "responseURL" in xhr ? xhr.responseURL : options.headers.get("X-Request-URL");
      var body = "response" in xhr ? xhr.response : xhr.responseText;
      setTimeout(function() {
        resolve(new Response(body, options));
      }, 0);
    };
    xhr.onerror = function() {
      setTimeout(function() {
        reject(new TypeError("Network request failed"));
      }, 0);
    };
    xhr.ontimeout = function() {
      setTimeout(function() {
        reject(new TypeError("Network request timed out"));
      }, 0);
    };
    xhr.onabort = function() {
      setTimeout(function() {
        reject(new DOMException("Aborted", "AbortError"));
      }, 0);
    };
    function fixUrl(url) {
      try {
        return url === "" && g.location.href ? g.location.href : url;
      } catch (e10) {
        return url;
      }
    }
    xhr.open(request.method, fixUrl(request.url), true);
    if (request.credentials === "include") {
      xhr.withCredentials = true;
    } else if (request.credentials === "omit") {
      xhr.withCredentials = false;
    }
    if ("responseType" in xhr) {
      if (support.blob) {
        xhr.responseType = "blob";
      } else if (support.arrayBuffer) {
        xhr.responseType = "arraybuffer";
      }
    }
    if (init && typeof init.headers === "object" && !(init.headers instanceof Headers || g.Headers && init.headers instanceof g.Headers)) {
      var names = [];
      Object.getOwnPropertyNames(init.headers).forEach(function(name) {
        names.push(normalizeName(name));
        xhr.setRequestHeader(name, normalizeValue(init.headers[name]));
      });
      request.headers.forEach(function(value, name) {
        if (names.indexOf(name) === -1) {
          xhr.setRequestHeader(name, value);
        }
      });
    } else {
      request.headers.forEach(function(value, name) {
        xhr.setRequestHeader(name, value);
      });
    }
    if (request.signal) {
      request.signal.addEventListener("abort", abortXhr);
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
          request.signal.removeEventListener("abort", abortXhr);
        }
      };
    }
    xhr.send(typeof request._bodyInit === "undefined" ? null : request._bodyInit);
  });
}
fetch2.polyfill = true;
if (!g.fetch) {
  g.fetch = fetch2;
  g.Headers = Headers;
  g.Request = Request;
  g.Response = Response;
}

// node_modules/tslib/tslib.es6.mjs
var extendStatics = function(d8, b8) {
  extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d9, b9) {
    d9.__proto__ = b9;
  } || function(d9, b9) {
    for (var p12 in b9) if (Object.prototype.hasOwnProperty.call(b9, p12)) d9[p12] = b9[p12];
  };
  return extendStatics(d8, b8);
};
function __extends(d8, b8) {
  if (typeof b8 !== "function" && b8 !== null)
    throw new TypeError("Class extends value " + String(b8) + " is not a constructor or null");
  extendStatics(d8, b8);
  function __() {
    this.constructor = d8;
  }
  d8.prototype = b8 === null ? Object.create(b8) : (__.prototype = b8.prototype, new __());
}
var __assign = function() {
  __assign = Object.assign || function __assign2(t2) {
    for (var s11, i6 = 1, n6 = arguments.length; i6 < n6; i6++) {
      s11 = arguments[i6];
      for (var p12 in s11) if (Object.prototype.hasOwnProperty.call(s11, p12)) t2[p12] = s11[p12];
    }
    return t2;
  };
  return __assign.apply(this, arguments);
};
function __awaiter(thisArg, _arguments, P6, generator) {
  function adopt(value) {
    return value instanceof P6 ? value : new P6(function(resolve) {
      resolve(value);
    });
  }
  return new (P6 || (P6 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e10) {
        reject(e10);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e10) {
        reject(e10);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}
function __generator(thisArg, body) {
  var _5 = { label: 0, sent: function() {
    if (t2[0] & 1) throw t2[1];
    return t2[1];
  }, trys: [], ops: [] }, f14, y6, t2, g10 = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
  return g10.next = verb(0), g10["throw"] = verb(1), g10["return"] = verb(2), typeof Symbol === "function" && (g10[Symbol.iterator] = function() {
    return this;
  }), g10;
  function verb(n6) {
    return function(v7) {
      return step([n6, v7]);
    };
  }
  function step(op) {
    if (f14) throw new TypeError("Generator is already executing.");
    while (g10 && (g10 = 0, op[0] && (_5 = 0)), _5) try {
      if (f14 = 1, y6 && (t2 = op[0] & 2 ? y6["return"] : op[0] ? y6["throw"] || ((t2 = y6["return"]) && t2.call(y6), 0) : y6.next) && !(t2 = t2.call(y6, op[1])).done) return t2;
      if (y6 = 0, t2) op = [op[0] & 2, t2.value];
      switch (op[0]) {
        case 0:
        case 1:
          t2 = op;
          break;
        case 4:
          _5.label++;
          return { value: op[1], done: false };
        case 5:
          _5.label++;
          y6 = op[1];
          op = [0];
          continue;
        case 7:
          op = _5.ops.pop();
          _5.trys.pop();
          continue;
        default:
          if (!(t2 = _5.trys, t2 = t2.length > 0 && t2[t2.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _5 = 0;
            continue;
          }
          if (op[0] === 3 && (!t2 || op[1] > t2[0] && op[1] < t2[3])) {
            _5.label = op[1];
            break;
          }
          if (op[0] === 6 && _5.label < t2[1]) {
            _5.label = t2[1];
            t2 = op;
            break;
          }
          if (t2 && _5.label < t2[2]) {
            _5.label = t2[2];
            _5.ops.push(op);
            break;
          }
          if (t2[2]) _5.ops.pop();
          _5.trys.pop();
          continue;
      }
      op = body.call(thisArg, _5);
    } catch (e10) {
      op = [6, e10];
      y6 = 0;
    } finally {
      f14 = t2 = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
}
function __values(o7) {
  var s11 = typeof Symbol === "function" && Symbol.iterator, m10 = s11 && o7[s11], i6 = 0;
  if (m10) return m10.call(o7);
  if (o7 && typeof o7.length === "number") return {
    next: function() {
      if (o7 && i6 >= o7.length) o7 = void 0;
      return { value: o7 && o7[i6++], done: !o7 };
    }
  };
  throw new TypeError(s11 ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function __read(o7, n6) {
  var m10 = typeof Symbol === "function" && o7[Symbol.iterator];
  if (!m10) return o7;
  var i6 = m10.call(o7), r10, ar = [], e10;
  try {
    while ((n6 === void 0 || n6-- > 0) && !(r10 = i6.next()).done) ar.push(r10.value);
  } catch (error) {
    e10 = { error };
  } finally {
    try {
      if (r10 && !r10.done && (m10 = i6["return"])) m10.call(i6);
    } finally {
      if (e10) throw e10.error;
    }
  }
  return ar;
}
function __spreadArray(to, from, pack) {
  if (pack || arguments.length === 2) for (var i6 = 0, l13 = from.length, ar; i6 < l13; i6++) {
    if (ar || !(i6 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i6);
      ar[i6] = from[i6];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
}
function __makeTemplateObject(cooked, raw) {
  if (Object.defineProperty) {
    Object.defineProperty(cooked, "raw", { value: raw });
  } else {
    cooked.raw = raw;
  }
  return cooked;
}

// node_modules/@liff/logger/lib/index.es.js
var n;
!function(o7) {
  o7[o7.DEBUG = 1] = "DEBUG", o7[o7.INFO = 2] = "INFO", o7[o7.WARN = 3] = "WARN", o7[o7.ERROR = 4] = "ERROR";
}(n || (n = {}));
var r = function() {
  function r10(o7) {
    void 0 === o7 && (o7 = n.INFO), this.logLevel = o7, this._debug = console.debug, this._info = console.info, this._warn = console.warn, this._error = console.error;
  }
  return r10.prototype.debug = function() {
    for (var r11 = [], i6 = 0; i6 < arguments.length; i6++) r11[i6] = arguments[i6];
    this.logLevel <= n.DEBUG && (r11.unshift("[DEBUG]"), this._debug.apply(this, __spreadArray([], __read(r11), false)));
  }, r10.prototype.info = function() {
    for (var r11 = [], i6 = 0; i6 < arguments.length; i6++) r11[i6] = arguments[i6];
    this.logLevel <= n.INFO && (r11.unshift("[INFO]"), this._info.apply(this, __spreadArray([], __read(r11), false)));
  }, r10.prototype.warn = function() {
    for (var r11 = [], i6 = 0; i6 < arguments.length; i6++) r11[i6] = arguments[i6];
    this.logLevel <= n.WARN && (r11.unshift("[WARN]"), this._warn.apply(this, __spreadArray([], __read(r11), false)));
  }, r10.prototype.error = function() {
    for (var r11 = [], i6 = 0; i6 < arguments.length; i6++) r11[i6] = arguments[i6];
    this.logLevel <= n.ERROR && (r11.unshift("[ERROR]"), this._error.apply(this, __spreadArray([], __read(r11), false)));
  }, r10;
}();
var i = new r(Number("3"));

// node_modules/@liff/use/lib/index.es.js
var i2 = function(t2, e10) {
  this._driver = t2, this.liff = e10, this.hooks = this._driver.hooks, this.internalHooks = this._driver.internalHooks;
};
var r2 = function(t2, e10) {
  this._driver = t2, this.liff = e10, this.hooks = this._driver.hooks;
};
var s = function() {
  function t2(t3, e10) {
    this.pluginCtx = new r2(t3, e10), this.moduleCtx = new i2(t3, e10);
  }
  return Object.defineProperty(t2.prototype, "pluginContext", { get: function() {
    return this.pluginCtx;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "moduleContext", { get: function() {
    return this.moduleCtx;
  }, enumerable: false, configurable: true }), t2;
}();
var u = function() {
  function n6() {
    this.modules = /* @__PURE__ */ new Map(), this.hooks = {}, this.internalHooks = {};
  }
  return n6.prototype.addModule = function(n7, o7) {
    this.modules.set(n7, o7), o7.hooks && (this.hooks[n7] = Object.entries(o7.hooks).reduce(function(n8, o8) {
      var i6, r10 = __read(o8, 2), s11 = r10[0], u13 = r10[1];
      return __assign(__assign({}, n8), ((i6 = {})[s11] = u13.on.bind(u13), i6));
    }, {})), "internalHooks" in o7 && o7.internalHooks && (this.internalHooks[n7] = Object.entries(o7.internalHooks).reduce(function(n8, o8) {
      var i6, r10 = __read(o8, 2), s11 = r10[0], u13 = r10[1];
      return __assign(__assign({}, n8), ((i6 = {})[s11] = u13.on.bind(u13), i6));
    }, {}));
  }, n6.prototype.hasModule = function(t2) {
    return this.modules.has(t2);
  }, n6;
}();
var a = function() {
};
var l = function(t2) {
  return t2 instanceof a;
};
var c = function(t2) {
  function e10(e11, n6, o7) {
    var i6 = t2.call(this) || this;
    return i6.driver = e11, i6.contextHolder = n6, i6.option = o7, i6;
  }
  return __extends(e10, t2), e10.prototype.install = function() {
    return this.factory(this.driver, this.contextHolder);
  }, Object.defineProperty(e10.prototype, "name", { get: function() {
    return "use";
  }, enumerable: false, configurable: true }), Object.defineProperty(e10.prototype, "defaultOption", { get: function() {
    return { namespacePrefix: "$" };
  }, enumerable: false, configurable: true }), e10.prototype.factory = function(t3, e11) {
    var n6 = Object.assign({}, this.defaultOption, this.option).namespacePrefix;
    return function(i6, r10) {
      if (!i6 || "function" != typeof i6.install || "string" != typeof i6.name) return i.warn("To install the plugin, you need to define the `name` property and the `install` method."), this;
      var s11 = l(i6) ? i6.name : "".concat(n6).concat(i6.name);
      if (t3.hasModule(s11)) return this;
      var u13 = l(i6) ? i6.install.call(i6, e11.moduleContext, r10) : i6.install.call(i6, e11.pluginContext, r10);
      return this["".concat(s11)] ? (i.warn("There is a duplicate plugin name. `".concat(s11, "` plugin namespace will be override.")), this["".concat(s11)] = u13) : void 0 !== u13 && (this["".concat(s11)] = u13), t3.addModule(s11, i6), this;
    };
  }, e10;
}(a);

// node_modules/@liff/ready/lib/index.es.js
var e;
var n2 = new Promise(function(n6) {
  e = n6;
});

// node_modules/@liff/consts/lib/index.es.js
var e2 = "UNKNOWN";
var t = "UNAUTHORIZED";
var i3 = "INVALID_ARGUMENT";
var I = "INIT_FAILED";
var E = "FORBIDDEN";
var n3 = "INVALID_CONFIG";
var T = "INVALID_ID_TOKEN";
var f = "CREATE_SUBWINDOW_FAILED";
var N = "EXCEPTION_IN_SUBWINDOW";
var o = "liffEvent";
var l2 = "LIFF_STORE";
var s2 = "https://liff.".concat("line.me", "/");
var a2 = "https://miniapp.".concat("line.me", "/");
var c2 = { ACCESS_TOKEN: "accessToken", ID_TOKEN: "IDToken", DECODED_ID_TOKEN: "decodedIDToken", FEATURE_TOKEN: "featureToken", LOGIN_TMP: "loginTmp", CONFIG: "config", CONTEXT: "context", EXPIRES: "expires", RAW_CONTEXT: "rawContext", CLIENT_ID: "clientId", IS_SUBSEQUENT_LIFF_APP: "isSubsequentLiffApp", MST_CHALLENGE: "mstChallenge", MSIT: "msit", MST: "mst", MST_VERIFIER: "mstVerifier", APP_DATA: "appData" };
var r3 = "isInClient";
var D = ["context_token", "feature_token", "access_token", "id_token", "client_id", "mst_verifier", "mst_challenge", "msit"];
var O = 5;
var A = ["liff.ref.source", "liff.ref.medium", "liff.ref.campaign", "liff.ref.term", "liff.ref.content"];
var m = "liff://subwindow";
var C = { INIT: "init", SUBMIT: "submit", CANCEL: "cancel", CLOSE: "close", ERROR: "error" };
var p = 100;
var S = 100;
var L = "liff.subwindow";
var R = "healthCheck";
var U = ["profile", "chat_message.write", "openid", "email"];

// node_modules/@liff/util/lib/index.es.js
function c3(n6) {
  return window.atob(n6.replace(/-/g, "+").replace(/_/g, "/"));
}
var u2 = { decode: c3, encode: function(n6) {
  return window.btoa(n6).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "");
}, decodeUnicode: function(n6) {
  var r10 = c3(n6).split("").map(function(n7) {
    return "%" + ("00" + n7.charCodeAt(0).toString(16)).slice(-2);
  }).join("");
  return decodeURIComponent(r10);
} };
function f2(n6, r10) {
  if (n6 === r10) return 0;
  for (var t2 = n6.split("."), e10 = r10.split("."), o7 = Math.max(t2.length, e10.length), i6 = 0; i6 < o7; i6++) {
    t2[i6] || (t2[i6] = "0"), e10[i6] || (e10[i6] = "0");
    var a10 = parseInt(t2[i6]) - parseInt(e10[i6]);
    if (0 !== a10) return a10 > 0 ? 1 : -1;
  }
  return 0;
}
function s3(r10) {
  var t2 = r10.replace("#", "").match(/.{2}/g) || [];
  if (4 !== t2.length) return i.warn("convertArgbToRgba: Received invalid ARGB color"), "";
  var e10 = function(n6) {
    var r11 = p2(n6);
    return Math.round(r11 / 255 * 100) / 100;
  }(t2[0]), o7 = p2(t2[1]), i6 = p2(t2[2]), a10 = p2(t2[3]);
  return "rgba(".concat(o7, ", ").concat(i6, ", ").concat(a10, ", ").concat(e10, ")");
}
function p2(n6) {
  return parseInt(n6, 16);
}
function d(r10) {
  var t2 = r10.replace("#", "").match(/.{2}/g) || [];
  if (3 !== t2.length) return i.warn("convertArgbToRgba: Received invalid hex color"), "";
  var e10 = p2(t2[0]), o7 = p2(t2[1]), i6 = p2(t2[2]);
  return "".concat(e10, ", ").concat(o7, ", ").concat(i6);
}
function l3(n6) {
  for (var r10 = n6.length, t2 = new ArrayBuffer(r10), e10 = new Uint8Array(t2), o7 = 0; o7 < r10; o7++) e10[o7] = n6.charCodeAt(o7);
  return t2;
}
var v = { get: function(n6) {
  var r10 = new RegExp("(?:(?:^|.*;\\s*)".concat(n6, "\\s*\\=\\s*([^;]*).*$)|^.*$"));
  return document.cookie.replace(r10, "$1");
}, set: function(r10, t2, e10) {
  var o7 = r10 + "=" + t2;
  if (e10) for (var i6 in e10) {
    var a10 = e10[i6] ? "=".concat(e10[i6]) : "";
    o7 += "; ".concat(i6).concat(a10);
  }
  i.debug("set cookie", o7), document.cookie = o7;
}, remove: function(n6, r10) {
  var t2 = "".concat(n6, "=; expires=Thu, 01 Jan 1970 00:00:00 GMT");
  if (r10) for (var e10 in r10) t2 += "; ".concat(e10, "=").concat(r10[e10]);
  document.cookie = t2;
} };
var g2 = /* @__PURE__ */ new Set(["400", "401", "403", "404", "429", "500"]);
var h = function(n6) {
  function t2(r10, t3, e10) {
    var o7 = n6.call(this, t3, e10) || this;
    return o7.code = r10, o7;
  }
  return __extends(t2, n6), t2;
}(Error);
function w(n6, r10, t2) {
  return (null == t2 ? void 0 : t2.cause) && console.error("This is the cause of LiffError described below.", t2.cause), new h(n6, r10 || "", t2 || {});
}
function m2(n6) {
  var r10 = n6.match(/([^-]+)-[^-]+/);
  return r10 && r10[1];
}
function y(n6) {
  var r10 = "";
  return n6.replace(/\r|\n/g, "").replace(/([\da-fA-F]{2}) ?/g, "0x$1 ").replace(/ +$/, "").split(" ").forEach(function(n7) {
    r10 += String.fromCharCode(parseInt(n7));
  }), window.btoa(r10);
}
var b = function() {
  function n6() {
    this.map = {};
  }
  return n6.prototype.clear = function() {
    this.map = {};
  }, n6.prototype.getItem = function(n7) {
    var r10 = this.map[n7];
    return void 0 === r10 ? null : r10;
  }, n6.prototype.setItem = function(n7, r10) {
    this.map[n7] = r10;
  }, n6.prototype.removeItem = function(n7) {
    delete this.map[n7];
  }, n6.prototype.key = function(n7) {
    var r10 = Object.keys(this.map)[n7];
    return void 0 === r10 ? null : r10;
  }, Object.defineProperty(n6.prototype, "length", { get: function() {
    return Object.keys(this.map).length;
  }, enumerable: false, configurable: true }), n6;
}();
var R2;
var A2 = { parse: function(n6) {
  return n6.replace(/^\?/, "").replace(/^#\/?/, "").split(/&+/).filter(function(n7) {
    return n7.length > 0;
  }).reduce(function(n7, r10) {
    var e10 = __read(r10.split("=").map(decodeURIComponent), 2), o7 = e10[0], i6 = e10[1], a10 = n7[o7];
    return Array.isArray(a10) ? a10.push(i6) : Object.prototype.hasOwnProperty.call(n7, o7) ? n7[o7] = [a10, i6] : n7[o7] = i6, n7;
  }, {});
}, stringify: function(n6) {
  return Object.keys(n6).map(function(r10) {
    var t2 = n6[r10], e10 = function(n7) {
      return void 0 !== n7 ? "".concat(encodeURIComponent(r10), "=").concat(encodeURIComponent(n7)) : encodeURIComponent(r10);
    };
    return Array.isArray(t2) ? t2.map(function(n7) {
      return e10(n7);
    }).join("&") : e10(t2);
  }).join("&");
} };
var I2 = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
function U2() {
  return window.crypto.getRandomValues(new Uint32Array(1))[0] / 4294967296;
}
function x(n6) {
  for (var r10 = "", t2 = 0; t2 < n6; t2++) r10 += I2[Math.floor(U2() * I2.length)];
  return r10;
}
function C2(n6) {
  var r10 = new URL(n6), t2 = r10.hash.slice(1).split("&").filter(function(n7) {
    return !D.some(function(r11) {
      return n7.startsWith("".concat(r11, "="));
    });
  }).join("&");
  return r10.hash = t2, r10.toString();
}
function L2(n6) {
  var r10 = new URL(n6);
  return r10.toString().replace(new RegExp(String.raw(O2 || (O2 = __makeTemplateObject(["^", ""], ["^", ""])), r10.origin)), "");
}
var j = function(n6) {
  var r10 = L2(C2(n6));
  window.history.replaceState(history.state, "", r10);
};
function E2(n6, r10) {
  if (!n6) throw new Error("addParamsToUrl: invalid URL");
  var e10 = new URL(n6);
  return Object.entries(r10).forEach(function(n7) {
    var r11 = __read(n7, 2), o7 = r11[0], i6 = r11[1];
    e10.searchParams.set(o7, i6);
  }), e10.toString();
}
var O2;
var S2 = ((R2 = {})[s2] = function() {
  var n6 = $(s2);
  return new RegExp("^".concat(n6, "(\\d+-\\w+)"));
}, R2[a2] = function() {
  var n6 = $(a2);
  return new RegExp("^".concat(n6, "((\\d+-\\w+)|(\\w+$))"));
}, R2);
function k(n6) {
  for (var r10 in S2) {
    var t2 = n6.match(S2[r10]());
    if (t2) return t2[1];
  }
  return null;
}
function $(n6) {
  return n6.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function T2(n6) {
  var r10 = n6.match(/^(https?:\/\/.*?)\//);
  return r10 && r10[1] || "";
}
function F(n6) {
  return n6.startsWith("line:");
}
function P(n6) {
  return void 0 === n6 && (n6 = window.navigator.userAgent), /ipad/.test(n6.toLowerCase());
}
function W(n6) {
  return void 0 === n6 && (n6 = window.navigator.userAgent), /Line\/\d+\.\d+\.\d+/.test(n6);
}
function B(n6) {
  return void 0 === n6 && (n6 = window.navigator.userAgent), /Line\/\d+\.\d+\.\d+ LIFF/.test(n6);
}
function G(n6) {
  return void 0 === n6 && (n6 = window.navigator.userAgent), /LIFF\/SubWindow/.test(n6);
}
var J = function() {
  return "undefined" == typeof window;
};

// node_modules/@liff/is-in-client/lib/index.es.js
var c4 = null;
function u3() {
  return null === c4 && (c4 = B() || W() && /[#|&]access_token=/.test(location.hash) || "1" === sessionStorage.getItem("".concat(l2, ":").concat(r3)), sessionStorage.setItem("".concat(l2, ":").concat(r3), c4 ? "1" : "0")), !!c4;
}
var f3 = function(n6) {
  function o7() {
    return null !== n6 && n6.apply(this, arguments) || this;
  }
  return __extends(o7, n6), Object.defineProperty(o7.prototype, "name", { get: function() {
    return "isInClient";
  }, enumerable: false, configurable: true }), o7.prototype.install = function() {
    return function() {
      return u3();
    };
  }, o7;
}(a);

// node_modules/@liff/store/lib/index.es.js
function c5() {
  var n6;
  return null !== (n6 = window.__liffConfig) && void 0 !== n6 ? n6 : {};
}
function l4(n6) {
  window.__liffConfig = n6;
}
function a3(n6, t2) {
  if (!t2) throw w(n3, "liffId is necessary for liff.init()");
  var o7 = (u3() ? sessionStorage : localStorage).getItem("".concat(l2, ":").concat(t2, ":").concat(n6));
  try {
    return null === o7 ? null : JSON.parse(o7);
  } catch (f14) {
    return null;
  }
}
function p3(n6) {
  return a3(n6, c5().liffId);
}
function s4(n6, t2) {
  var o7 = c5().liffId;
  if (!o7) throw w(n3, "liffId is necessary for liff.init()");
  (u3() ? sessionStorage : localStorage).setItem("".concat(l2, ":").concat(o7, ":").concat(n6), JSON.stringify(t2));
}
function E3() {
  return p3(c2.CONTEXT);
}
function I3(n6) {
  s4(c2.CONTEXT, n6);
}
var T3 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getContext";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return E3();
    };
  }, r10;
}(a);
function y2() {
  return ((E3() || {}).d || {}).aId;
}
var g3 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getAId";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return y2();
    };
  }, r10;
}(a);
function _() {
  return ((E3() || {}).d || {}).autoplay || false;
}
var m3 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getIsVideoAutoPlay";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return _();
    };
  }, r10;
}(a);
function S3() {
  return (E3() || {}).profilePlus;
}
var d2 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getProfilePlus";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return S3();
    };
  }, r10;
}(a);
function O3() {
  return Boolean(p3(c2.IS_SUBSEQUENT_LIFF_APP));
}
function P2(n6) {
  s4(c2.IS_SUBSEQUENT_LIFF_APP, n6);
}
function b2() {
  return p3(c2.APP_DATA);
}
function N2(n6) {
  s4(c2.APP_DATA, n6);
}
function h2() {
  return p3(c2.MST_VERIFIER);
}
function A3(n6) {
  s4(c2.MST_VERIFIER, n6);
}
function v2() {
  return p3(c2.MSIT);
}
function C3(n6) {
  s4(c2.MSIT, n6);
}
function D2() {
  return p3(c2.MST);
}
function L3(n6) {
  s4(c2.MST, n6);
}
function M() {
  return p3(c2.MST_CHALLENGE);
}
function R3(n6) {
  s4(c2.MST_CHALLENGE, n6);
}
function j2() {
  return p3(c2.CLIENT_ID);
}
function F2(n6) {
  s4(c2.CLIENT_ID, n6);
}
function K() {
  return p3(c2.RAW_CONTEXT);
}
function w2() {
  return p3(c2.FEATURE_TOKEN);
}
function U3(n6) {
  s4(c2.FEATURE_TOKEN, n6);
}
function X() {
  return p3(c2.ID_TOKEN);
}
function G2(n6) {
  s4(c2.ID_TOKEN, n6);
}
var k2 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getIDToken";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return X();
    };
  }, r10;
}(a);
function x2() {
  return p3(c2.ACCESS_TOKEN);
}
function B2(n6) {
  s4(c2.ACCESS_TOKEN, n6);
}
var V = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getAccessToken";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return x2();
    };
  }, r10;
}(a);
function H(n6) {
  var t2 = c5().liffId;
  if (!t2) throw w(n3, "liffId is necessary for liff.init()");
  (u3() ? sessionStorage : localStorage).removeItem("".concat(l2, ":").concat(t2, ":").concat(n6));
}
function J2() {
  return p3(c2.LOGIN_TMP);
}
function Q(n6) {
  s4(c2.LOGIN_TMP, n6);
}
function W2() {
  H(c2.LOGIN_TMP);
}
function q(n6) {
  var t2 = c5();
  v.set("".concat(l2, ":").concat(c2.EXPIRES, ":").concat(t2.liffId), n6.getTime(), { expires: n6.toUTCString(), path: "/", secure: null });
}
function z() {
  var n6 = c5();
  return v.get("".concat(l2, ":").concat(c2.EXPIRES, ":").concat(n6.liffId));
}
function Y() {
  var n6 = c5();
  v.remove("".concat(l2, ":").concat(c2.EXPIRES, ":").concat(n6.liffId), { path: "/" });
}
function Z() {
  return p3(c2.DECODED_ID_TOKEN);
}
function $2(n6) {
  s4(c2.DECODED_ID_TOKEN, n6);
}
var nn = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getDecodedIDToken";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return Z();
    };
  }, r10;
}(a);
function tn() {
  Object.keys(c2).forEach(function(n6) {
    H(c2[n6]);
  }), Y();
}

// node_modules/@liff/is-logged-in/lib/index.es.js
function e3() {
  return !!x2();
}
var o2 = function(r10) {
  function n6() {
    return null !== r10 && r10.apply(this, arguments) || this;
  }
  return __extends(n6, r10), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "isLoggedIn";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    return function() {
      return e3();
    };
  }, n6;
}(a);

// node_modules/@liff/get-version/lib/index.es.js
function r4() {
  return "2.24.0";
}
var e4 = function(n6) {
  function r10() {
    return null !== n6 && n6.apply(this, arguments) || this;
  }
  return __extends(r10, n6), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getVersion";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return "2.24.0";
    };
  }, r10;
}(a);

// node_modules/@liff/is-sub-window/lib/index.es.js
var a4 = function() {
  function t2() {
  }
  return t2.prototype.invoke = function() {
    return G();
  }, t2;
}();
var l5 = function() {
  function t2(t3) {
    this.storage = t3;
  }
  return Object.defineProperty(t2, "IN_SUB_WINDOW_KEY", { get: function() {
    return "inSubWindow";
  }, enumerable: false, configurable: true }), t2.prototype.invoke = function() {
    return new URLSearchParams(window.location.search).has(L) && this.setInSubWindow(true), !(!this.getInSubWindow() && !this.getSubWindowIdentifier());
  }, t2.prototype.getInSubWindow = function() {
    var n6 = this.storage.getItem("".concat(l2, ":").concat(this.getLiffId(), ":").concat(t2.IN_SUB_WINDOW_KEY));
    return null !== n6 && JSON.parse(n6);
  }, t2.prototype.getSubWindowIdentifier = function() {
    var t3, n6, i6 = "liff.subwindow.identifier", e10 = new URLSearchParams(window.location.search);
    return e10.get(i6) || (t3 = i6, (n6 = e10.get("liff.state")) ? new URLSearchParams(n6).get(t3) : null) || null;
  }, t2.prototype.setInSubWindow = function(n6) {
    this.storage.setItem("".concat(l2, ":").concat(this.getLiffId(), ":").concat(t2.IN_SUB_WINDOW_KEY), String(n6));
  }, t2.prototype.getLiffId = function() {
    var t3 = c5().liffId;
    if (!t3) throw w(n3, "liffId is necessary for liff.init()");
    return t3;
  }, t2;
}();
var p4 = function(n6) {
  function i6() {
    var t2 = n6.call(this) || this;
    return J() ? t2.impl = { invoke: function() {
      return false;
    } } : u3() ? t2.impl = new a4() : t2.impl = new l5(window.sessionStorage), t2;
  }
  return __extends(i6, n6), Object.defineProperty(i6.prototype, "name", { get: function() {
    return "isSubWindow";
  }, enumerable: false, configurable: true }), i6.prototype.install = function() {
    return this.impl.invoke.bind(this.impl);
  }, i6;
}(a);
var m4 = new p4();
var d3 = m4.install();

// node_modules/@liff/get-line-version/lib/index.es.js
function r5() {
  var n6 = navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);
  return n6 ? n6[0].slice(5) : null;
}
var e5 = function(t2) {
  function e10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(e10, t2), Object.defineProperty(e10.prototype, "name", { get: function() {
    return "getLineVersion";
  }, enumerable: false, configurable: true }), e10.prototype.install = function() {
    return function() {
      return r5();
    };
  }, e10;
}(a);

// node_modules/@liff/get-os/lib/index.es.js
var r6;
function e6() {
  if (!r6) {
    var t2 = window.navigator.userAgent.toLowerCase();
    r6 = /iphone|ipad|ipod/.test(t2) ? "ios" : /android/.test(t2) ? "android" : "web";
  }
  return r6;
}
var i4 = function(n6) {
  function r10() {
    return n6.call(this) || this;
  }
  return __extends(r10, n6), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getOS";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return e6();
    };
  }, r10;
}(a);

// node_modules/@liff/is-api-available/lib/index.es.js
function b3(e10) {
  var r10, n6 = E3();
  return null === (r10 = null == n6 ? void 0 : n6.availability) || void 0 === r10 ? void 0 : r10[e10];
}
function v3(e10, n6, i6) {
  var a10 = b3(e10), t2 = i6 || e10;
  if (!a10) return { available: false, error: { code: E, message: "".concat(t2, " is not allowed in this LIFF app") } };
  var l13 = a10.minVer, c14 = a10.unsupportedFromVer, s11 = !l13 || function(e11, r10) {
    var n7 = r5();
    return !!n7 && !(r10 && f2(n7, r10) > 0) && f2(n7, e11) >= 0;
  }(l13, c14), d8 = u3();
  return d8 && !s11 ? { available: false, error: { code: E, message: "".concat(t2, " is unavailable in this client version.") } } : a10.permission ? d8 && s11 || n6 ? { available: true } : { available: false, error: { code: E, message: "".concat(t2, " is not allowed in external browser") } } : { available: false, error: { code: E, message: "".concat(t2, " is not allowed in this LIFF app") } };
}
var g4 = function() {
  return e3() ? !B() && W() ? { available: false, error: { code: E, message: "Subwindow is not supported in this browser" } } : d3() ? { available: false, error: { code: E, message: "this api can be only called in parent window" } } : v3("subwindowOpen", true) : { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } };
};
var h3 = ["subwindowOpen", "shareTargetPicker", "multipleLiffTransition", "scanCode", "scanCodeV2", "getAdvertisingId", "addToHomeScreen", "bluetoothLeFunction", "skipChannelVerificationScreen", "createShortcutOnHomeScreen", "internalCreateShortcutOnHomeScreen"];
var S4 = { scanCode: function() {
  return v3("scanCode");
}, getAdvertisingId: function() {
  return v3("getAdvertisingId");
}, bluetoothLeFunction: function() {
  return v3("bluetoothLeFunction");
}, shareTargetPicker: function() {
  return d3() ? { available: false, error: { code: E, message: "this api can be only called in parent window" } } : e3() ? v3("shareTargetPicker", true) : { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } };
}, multipleLiffTransition: function() {
  var e10 = b3("multipleLiffTransition");
  return e10 && e10.permission ? u3() ? { available: true } : { available: false, error: { code: E, message: "multipleLiffTransition is available only in the LINE App browser" } } : { available: false, error: { code: E, message: "multipleLiffTransition is not allowed in this LIFF app" } };
}, subwindowOpen: g4, scanCodeV2: function() {
  if (!e3()) return { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } };
  var e10 = g4();
  return e10.available ? v3("scanCodeV2", true) : e10;
}, addToHomeScreen: function() {
  return d3() ? { available: false, error: { code: E, message: "this api can be only called in parent window" } } : v3("addToHomeScreen");
}, skipChannelVerificationScreen: function() {
  var e10 = E3();
  return e10 ? "square_chat" === e10.type ? { available: false, error: { code: E, message: "skipChannelVerificationScreen is not allowed in OpenChat" } } : v3("skipChannelVerificationScreen") : { available: false, error: { code: E, message: "Context is not found" } };
}, createShortcutOnHomeScreen: function() {
  if (d3()) return { available: false, error: { code: E, message: "this api can be only called in parent window" } };
  if (!e3()) return { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } };
  var e10 = e6();
  return "android" !== e10 && "ios" !== e10 ? { available: false, error: { code: E, message: "this api can be only called in mobile device" } } : v3("addToHomeV2", true, "createShortcutOnHomeScreen");
}, internalCreateShortcutOnHomeScreen: function() {
  if (d3()) return { available: false, error: { code: E, message: "this api can be only called in parent window" } };
  if (!e3()) return { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } };
  var e10 = e6();
  if ("android" !== e10 && "ios" !== e10) return { available: false, error: { code: E, message: "this api can be only called in mobile device" } };
  var i6 = v3("addToHomeV2", true, "internalCreateShortcutOnHomeScreen");
  return i6.available ? v3("addToHomeLineScheme", true, "internalCreateShortcutOnHomeScreen") : i6;
} };
var w3 = function(e10) {
  return function() {
    var r10 = e10();
    if (!r10.available) throw w(r10.error.code, r10.error.message);
  };
};
var C4 = { scanCode: w3(S4.scanCode), getAdvertisingId: w3(S4.getAdvertisingId), bluetoothLeFunction: w3(S4.bluetoothLeFunction), shareTargetPicker: w3(S4.shareTargetPicker), multipleLiffTransition: w3(S4.multipleLiffTransition), subwindowOpen: w3(S4.subwindowOpen), scanCodeV2: w3(S4.scanCodeV2), addToHomeScreen: w3(S4.addToHomeScreen), skipChannelVerificationScreen: w3(S4.skipChannelVerificationScreen), createShortcutOnHomeScreen: w3(S4.createShortcutOnHomeScreen), internalCreateShortcutOnHomeScreen: w3(S4.internalCreateShortcutOnHomeScreen) };
function T4(e10) {
  if (!function(e11) {
    return h3.some(function(r11) {
      return r11 === e11;
    });
  }(e10)) throw w(i3, "Unexpected API name.");
  var r10 = S4[e10];
  return !r10 || r10().available;
}
var H2 = function(r10) {
  function n6() {
    var e10 = null !== r10 && r10.apply(this, arguments) || this;
    return e10.hooks = {}, e10;
  }
  return __extends(n6, r10), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "isApiAvailable";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    return function(e10) {
      return T4(e10);
    };
  }, n6;
}(a);

// node_modules/@liff/check-availability/lib/index.es.js
var e7 = function() {
  function t2() {
  }
  return t2.prototype.invoke = function(t3) {
    var i6 = C4[t3];
    return !!i6 && (i6(), true);
  }, t2;
}();
var r7 = function() {
  function t2(t3) {
    this.liff = t3;
  }
  return t2.prototype.invoke = function(t3) {
    return this.liff.checkFeature(t3);
  }, t2;
}();
var o3 = function() {
  function n6(o7) {
    f2(r4(), n6.SDK_VERSION_SUPPORTING_NEW) >= 0 ? this.impl = new e7() : this.impl = new r7(o7);
  }
  return Object.defineProperty(n6, "SDK_VERSION_SUPPORTING_NEW", { get: function() {
    return "2.11.0";
  }, enumerable: false, configurable: true }), n6.prototype.invoke = function(t2) {
    return this.impl.invoke(t2);
  }, n6;
}();

// node_modules/@liff/extensions/lib/es/index.js
var c6 = function(t2, n6) {
  return c6 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t3, n7) {
    t3.__proto__ = n7;
  } || function(t3, n7) {
    for (var e10 in n7) Object.prototype.hasOwnProperty.call(n7, e10) && (t3[e10] = n7[e10]);
  }, c6(t2, n6);
};
function u4(t2, n6, e10, o7) {
  return new (e10 || (e10 = Promise))(function(r10, i6) {
    function c14(t3) {
      try {
        l13(o7.next(t3));
      } catch (n7) {
        i6(n7);
      }
    }
    function u13(t3) {
      try {
        l13(o7.throw(t3));
      } catch (n7) {
        i6(n7);
      }
    }
    function l13(t3) {
      var n7;
      t3.done ? r10(t3.value) : (n7 = t3.value, n7 instanceof e10 ? n7 : new e10(function(t4) {
        t4(n7);
      })).then(c14, u13);
    }
    l13((o7 = o7.apply(t2, n6 || [])).next());
  });
}
function l6(t2, n6) {
  var e10, o7, r10, i6, c14 = { label: 0, sent: function() {
    if (1 & r10[0]) throw r10[1];
    return r10[1];
  }, trys: [], ops: [] };
  return i6 = { next: u13(0), throw: u13(1), return: u13(2) }, "function" == typeof Symbol && (i6[Symbol.iterator] = function() {
    return this;
  }), i6;
  function u13(i7) {
    return function(u14) {
      return function(i8) {
        if (e10) throw new TypeError("Generator is already executing.");
        for (; c14; ) try {
          if (e10 = 1, o7 && (r10 = 2 & i8[0] ? o7.return : i8[0] ? o7.throw || ((r10 = o7.return) && r10.call(o7), 0) : o7.next) && !(r10 = r10.call(o7, i8[1])).done) return r10;
          switch (o7 = 0, r10 && (i8 = [2 & i8[0], r10.value]), i8[0]) {
            case 0:
            case 1:
              r10 = i8;
              break;
            case 4:
              return c14.label++, { value: i8[1], done: false };
            case 5:
              c14.label++, o7 = i8[1], i8 = [0];
              continue;
            case 7:
              i8 = c14.ops.pop(), c14.trys.pop();
              continue;
            default:
              if (!(r10 = c14.trys, (r10 = r10.length > 0 && r10[r10.length - 1]) || 6 !== i8[0] && 2 !== i8[0])) {
                c14 = 0;
                continue;
              }
              if (3 === i8[0] && (!r10 || i8[1] > r10[0] && i8[1] < r10[3])) {
                c14.label = i8[1];
                break;
              }
              if (6 === i8[0] && c14.label < r10[1]) {
                c14.label = r10[1], r10 = i8;
                break;
              }
              if (r10 && c14.label < r10[2]) {
                c14.label = r10[2], c14.ops.push(i8);
                break;
              }
              r10[2] && c14.ops.pop(), c14.trys.pop();
              continue;
          }
          i8 = n6.call(t2, c14);
        } catch (u15) {
          i8 = [6, u15], o7 = 0;
        } finally {
          e10 = r10 = 0;
        }
        if (5 & i8[0]) throw i8[1];
        return { value: i8[0] ? i8[1] : void 0, done: true };
      }([i7, u14]);
    };
  }
}
var s5 = false;
var a5 = function() {
  return s5;
};
var f4 = function(t2) {
  function n6() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return function(t3, n7) {
    if ("function" != typeof n7 && null !== n7) throw new TypeError("Class extends value " + String(n7) + " is not a constructor or null");
    function e10() {
      this.constructor = t3;
    }
    c6(t3, n7), t3.prototype = null === n7 ? Object.create(n7) : (e10.prototype = n7.prototype, new e10());
  }(n6, t2), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "_legacyExtensionsEnabled";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    s5 = true;
  }, n6;
}(a);
function p5() {
  var t2;
  return "ios" === e6() ? (t2 = r5()) && f2(t2, "9.19.0") < 0 ? "https://static.line-scdn.net/liff/edge/2/ios-918-extensions_2_22_0.js" : "https://static.line-scdn.net/liff/edge/2/ios-extensions_2_22_0.js" : "https://static.line-scdn.net/liff/edge/2/non-ios-extensions_2_22_0.js";
}
function y3() {
  return a5() ? function() {
    return u4(this, void 0, void 0, function() {
      return l6(this, function(e10) {
        switch (e10.label) {
          case 0:
            return [3, 2];
          case 1:
            return [2, e10.sent().default];
          case 2:
            return [2, new Promise(function(e11, o7) {
              var r10 = document.createElement("script"), i6 = p5();
              r10.onload = function() {
                var r11 = window.liffClientExtension;
                r11 ? e11(r11) : o7(w(I, "Unable to load client features. (Extension is empty)"));
              }, r10.onerror = function(e12) {
                o7(w(I, "Unable to load client features.", { cause: e12 }));
              }, r10.src = i6, r10.type = "text/javascript", document.body.appendChild(r10);
            })];
        }
      });
    });
  }() : Promise.resolve(void 0);
}

// node_modules/@liff/logout/lib/index.es.js
function o4() {
  tn();
}
var e8 = function(r10) {
  function n6() {
    return null !== r10 && r10.apply(this, arguments) || this;
  }
  return __extends(n6, r10), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "logout";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    return function() {
      return o4();
    };
  }, n6;
}(a);

// node_modules/@liff/server-api/lib/index.es.js
function c7(a10) {
  return __awaiter(this, void 0, void 0, function() {
    var e10, r10, o7;
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          if (!a10.ok) return [3, 4];
          t2.label = 1;
        case 1:
          return t2.trys.push([1, 3, , 4]), [4, a10.json()];
        case 2:
          return [2, t2.sent()];
        case 3:
          return t2.sent(), [2, a10];
        case 4:
          return e10 = String(a10.status), r10 = g2.has(e10) ? e10 : e2, [4, a10.json().catch(function() {
            throw w(r10, a10.statusText);
          })];
        case 5:
          throw o7 = t2.sent(), w(o7.error || r10, o7.error_description || o7.message);
      }
    });
  });
}
function u5(e10) {
  var t2 = function(e11) {
    if (e11) return e11;
    var t3 = x2();
    if (!t3) throw w(t, "Need access_token for api call, Please login first");
    return { "Content-Type": "application/json", Accept: "application/json", Authorization: "Bearer ".concat(t3) };
  }(e10 && e10.headers);
  return __assign(__assign({}, e10), { headers: t2 });
}
function f5(e10, t2) {
  var a10;
  try {
    a10 = u5(t2);
  } catch (n6) {
    return Promise.reject(n6);
  }
  return fetch(e10, a10).then(c7);
}
function p6(e10, t2) {
  var a10;
  try {
    a10 = u5(t2);
  } catch (n6) {
    return Promise.reject(n6);
  }
  return fetch(e10, a10);
}
function h4(e10) {
  var t2 = e10.subdomain, a10 = void 0 === t2 ? "api" : t2, n6 = e10.pathname;
  return "https://".concat(a10, ".").concat("line.me", "/").concat(n6);
}
var m5 = { token: h4({ pathname: "oauth2/v2.1/token" }), certs: h4({ pathname: "oauth2/v2.1/certs" }), "openid-configuration": h4({ subdomain: "access", pathname: ".well-known/openid-configuration" }), authorize: h4({ subdomain: "access", pathname: "liff/v1/authorize" }), profile: h4({ pathname: "v2/profile" }), message: h4({ pathname: "message/v3/share" }), friendship: h4({ pathname: "friendship/v1/status" }), shareTargetPicker: h4({ subdomain: "access", pathname: "oauth2/v2.1/liff/shareTargetPicker" }), shareTargetPickerOtt: h4({ pathname: "liff/v2/apps" }), shareTargetPickerResult: h4({ subdomain: "access", pathname: "oauth2/v2.1/liff/shareTargetPicker/result" }), apps: h4({ pathname: "liff/v2/apps" }), subWindowGetMSIT: h4({ pathname: "liff/v2/sub/msit" }), subWindowGetMSTByMSIT: h4({ pathname: "liff/v2/sub/mst" }), subWindowSubscribe: h4({ subdomain: "liff", pathname: "liff/v2/sub/waitResult" }), subWindowPost: h4({ pathname: "liff/v2/sub/result" }), subWindowGetAppData: h4({ pathname: "liff/v2/sub/appData" }), subWindowGetOrigin: function(e10) {
  return h4({ pathname: "liff/v2/sub/".concat(e10, "/origin") });
}, accessTokenVerify: h4({ pathname: "oauth2/v2.1/verify" }), unauthorizedPermissions: h4({ subdomain: "liff", pathname: "liff/v2/incrementalAgreement/unauthorizedPermissions" }), permanentLink: h4({ subdomain: "liff", pathname: "liff/v2/permanentLink" }), createShortcutOnHomeScreen: h4({ subdomain: "liff-shortcut", pathname: "api/shortcut" }) };
function l7(e10) {
  return m5[e10];
}
function d4(e10) {
  return f5("".concat(l7("accessTokenVerify"), "?access_token=").concat(encodeURIComponent(e10)), { headers: { "Content-Type": "application/json", Accept: "application/json" } });
}

// node_modules/@liff/message-bus/lib/index.es.js
var o5 = "liff.subwindow.identifier";
var c8 = "liff.subwindow.cryptokey";
var d5 = __assign(__assign({}, C), { GET_DATA: "getData", SET_DATA: "setData", NOT_FOUND: "notFound", TEARDOWN: "teardown" });
var u6 = { BROADCAST: "broadcast", COMMAND: "command" };
var f6 = { MAIN: "main", SUB: "sub" };
var v4 = function(e10) {
  return __awaiter(void 0, void 0, void 0, function() {
    var t2;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return n6.trys.push([0, 2, , 3]), [4, window.crypto.subtle.importKey("jwk", { kty: "oct", k: e10, alg: "A128GCM", ext: true }, { name: "AES-GCM" }, false, ["encrypt", "decrypt"])];
        case 1:
          return [2, n6.sent()];
        case 2:
          throw t2 = n6.sent(), w(e2, t2);
        case 3:
          return [2];
      }
    });
  });
};
var p7 = function(e10, r10, s11) {
  return __awaiter(void 0, void 0, void 0, function() {
    var t2, o7, c14, d8;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return n6.trys.push([0, 3, , 4]), t2 = new TextEncoder().encode(e10), [4, v4(r10)];
        case 1:
          return o7 = n6.sent(), [4, window.crypto.subtle.encrypt({ name: "AES-GCM", iv: t2 }, o7, new TextEncoder().encode(s11))];
        case 2:
          return c14 = n6.sent(), [2, btoa(new Uint8Array(c14).reduce(function(e11, t3) {
            return e11 + String.fromCharCode(t3);
          }, ""))];
        case 3:
          throw d8 = n6.sent(), w(e2, d8);
        case 4:
          return [2];
      }
    });
  });
};
var m6 = function(e10, r10, s11) {
  return __awaiter(void 0, void 0, void 0, function() {
    var t2, o7, c14, d8, u13, f14, l13;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return n6.trys.push([0, 3, , 4]), t2 = new TextEncoder().encode(e10), [4, v4(r10)];
        case 1:
          for (o7 = n6.sent(), c14 = atob(s11), d8 = new Uint8Array(c14.length), u13 = 0; u13 < c14.length; u13++) d8[u13] = c14.charCodeAt(u13);
          return [4, window.crypto.subtle.decrypt({ name: "AES-GCM", iv: t2 }, o7, d8.buffer)];
        case 2:
          return f14 = n6.sent(), [2, new TextDecoder().decode(new Uint8Array(f14))];
        case 3:
          throw l13 = n6.sent(), w(e2, l13);
        case 4:
          return [2];
      }
    });
  });
};
var w4 = function(e10, t2) {
  return y4(e10) === y4(t2);
};
var y4 = function(e10) {
  return "".concat(e10.identifier, "-").concat(e10.action, "-").concat(e10.timestamp);
};
var g5 = function(e10) {
  return Object.keys(C).map(function(e11) {
    return C[e11];
  }).includes(e10) ? u6.BROADCAST : u6.COMMAND;
};
function b4() {
  var e10 = document.createElement("form");
  e10.method = "POST", e10.action = "$MESSAGE_HANDLER_URL";
  var t2 = document.createElement("input");
  t2.type = "hidden", t2.name = "identifier", t2.value = "$IDENTIFIER", e10.appendChild(t2), document.body.appendChild(e10), e10.submit();
}
var E4 = function(s11) {
  void 0 === s11 && (s11 = f6.MAIN);
  var o7 = this;
  this.identification = { identifier: "", cryptoKey: "" }, this.messageHandlerInstance = null, this.listeners = /* @__PURE__ */ new Map(), this.sentMessages = [], this.generateIdentification = function() {
    return __awaiter(o7, void 0, void 0, function() {
      var e10, s12, o8, d8, u13;
      return __generator(this, function(l13) {
        switch (l13.label) {
          case 0:
            return e10 = new URLSearchParams(window.location.search), s12 = function(t2) {
              var n6 = e10.get("liff.state");
              return n6 ? new URLSearchParams(n6).get(t2) : null;
            }, o8 = this, u13 = { identifier: this.windowType === f6.MAIN ? x(12) : e10.get("liff.subwindow.identifier") || s12("liff.subwindow.identifier") || "" }, this.windowType !== f6.MAIN ? [3, 2] : [4, __awaiter(void 0, void 0, void 0, function() {
              var e11, t2, r10;
              return __generator(this, function(n6) {
                switch (n6.label) {
                  case 0:
                    return n6.trys.push([0, 3, , 4]), [4, window.crypto.subtle.generateKey({ name: "AES-GCM", length: 128 }, true, ["encrypt", "decrypt"])];
                  case 1:
                    return e11 = n6.sent(), [4, window.crypto.subtle.exportKey("jwk", e11)];
                  case 2:
                    if (!(t2 = n6.sent()) || !t2.k) throw w(e2, "failed to generate key");
                    return [2, t2.k];
                  case 3:
                    throw r10 = n6.sent(), w(e2, r10);
                  case 4:
                    return [2];
                }
              });
            })];
          case 1:
            return d8 = l13.sent(), [3, 3];
          case 2:
            d8 = e10.get(c8) || s12(c8) || "", l13.label = 3;
          case 3:
            return o8.identification = (u13.cryptoKey = d8, u13), [2];
        }
      });
    });
  }, this.hasIdentification = function() {
    var e10 = o7.identification, t2 = e10.identifier, n6 = e10.cryptoKey;
    return "string" == typeof t2 && "string" == typeof n6 && t2.length > 0 && n6.length > 0;
  }, this.isReady = function() {
    return o7.hasIdentification() && !!o7.messageHandlerInstance;
  }, this.setup = function() {
    return __awaiter(o7, void 0, void 0, function() {
      var e10, t2, r10, s12, o8, c14 = this;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return this.messageHandlerInstance ? [2] : [4, this.generateIdentification()];
          case 1:
            if (n6.sent(), !(e10 = this.identification.identifier)) return [2];
            if (t2 = /^[a-zA-Z0-9]+$/gm, !e10.match(t2)) throw w(e2, "Invalid identifier");
            return (r10 = document.createElement("iframe")).style.display = "none", r10.src = "about:blank", document.body.appendChild(r10), null === (o8 = null == r10 ? void 0 : r10.contentWindow) || void 0 === o8 || o8.window.eval("(".concat(b4.toString().replace("$MESSAGE_HANDLER_URL", "".concat("https://liff-subwindow.line.me/liff/v2/sub/messageHandler")).replace("$IDENTIFIER", e10.split("'")[0]), ")()")), s12 = "iframe-".concat(e10, "-ready"), [4, new Promise(function(e11) {
              var t3 = function(n7) {
                n7.data[s12] && (c14.messageHandlerInstance = r10, window.addEventListener("message", c14.proxyToListeners), e11(), document.removeEventListener("message", t3));
              };
              window.addEventListener("message", t3);
            })];
          case 2:
            return [2, n6.sent()];
        }
      });
    });
  }, this.teardown = function() {
    return __awaiter(o7, void 0, void 0, function() {
      var e10, t2;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return this.isReady() ? [4, this.send({ eventName: d5.TEARDOWN })] : [3, 2];
          case 1:
            n6.sent(), window.removeEventListener("message", this.proxyToListeners), this.listeners.clear(), null === (t2 = null === (e10 = this.messageHandlerInstance) || void 0 === e10 ? void 0 : e10.parentNode) || void 0 === t2 || t2.removeChild(this.messageHandlerInstance), this.messageHandlerInstance = null, n6.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, this.listen = function(e10) {
    o7.listeners.set(e10, e10);
  }, this.listenRepliedEvent = function(e10, t2) {
    var n6 = function(i6) {
      i6.replyTarget && w4(i6.replyTarget, e10) && (t2(i6), o7.listeners.delete(n6));
    };
    o7.listeners.set(n6, n6);
  }, this.send = function(e10) {
    return __awaiter(o7, void 0, void 0, function() {
      var t2, r10, s12, a10, o8 = this;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            if (!this.isReady()) throw w("message bus is not ready to send message");
            return r10 = { action: g5(e10.eventName), identifier: this.identification.identifier || "", timestamp: (/* @__PURE__ */ new Date()).getTime() }, [4, this.getEncryptedContext(e10)];
          case 1:
            return r10.context = n6.sent(), t2 = r10, null === (a10 = null === (s12 = this.messageHandlerInstance) || void 0 === s12 ? void 0 : s12.contentWindow) || void 0 === a10 || a10.postMessage({ messageBusEvent: t2 }, "*"), this.sentMessages.push(y4(t2)), [4, new Promise(function(e11) {
              o8.listenRepliedEvent(t2, function(t3) {
                e11(t3.context);
              });
            })];
          case 2:
            return [2, n6.sent()];
        }
      });
    });
  }, this.reply = function(e10, r10) {
    return __awaiter(o7, void 0, void 0, function() {
      var t2, s12, o8, c14;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            if (!this.isReady()) throw w("message bus is not ready to send message");
            if (!e10.identifier || !e10.timestamp) throw w(e2, "target message is not valid");
            return s12 = { action: u6.BROADCAST }, [4, this.getEncryptedContext(r10)];
          case 1:
            return s12.context = n6.sent(), s12.identifier = this.identification.identifier || "", s12.timestamp = (/* @__PURE__ */ new Date()).getTime(), s12.replyTarget = { action: e10.action, identifier: e10.identifier, timestamp: e10.timestamp }, t2 = s12, null === (c14 = null === (o8 = this.messageHandlerInstance) || void 0 === o8 ? void 0 : o8.contentWindow) || void 0 === c14 || c14.postMessage({ messageBusEvent: t2 }, "*"), this.sentMessages.push(y4(t2)), [2];
        }
      });
    });
  }, this.setData = function(e10, t2) {
    void 0 === e10 && (e10 = "appData"), o7.send({ eventName: d5.SET_DATA, key: e10, data: t2 });
  }, this.getData = function(e10) {
    return void 0 === e10 && (e10 = "appData"), __awaiter(o7, void 0, void 0, function() {
      return __generator(this, function(t2) {
        switch (t2.label) {
          case 0:
            return [4, this.send({ eventName: d5.GET_DATA, key: e10 })];
          case 1:
            return [2, t2.sent()];
        }
      });
    });
  }, this.proxyToListeners = function(i6) {
    return __awaiter(o7, void 0, void 0, function() {
      var r10, s12 = this;
      return __generator(this, function(a10) {
        return (r10 = i6.data.messageBusEvent) ? (this.sentMessages.includes(y4(r10)) || r10.identifier !== this.identification.identifier || r10.action !== u6.BROADCAST && !r10.replyTarget || this.listeners.forEach(function(i7) {
          return __awaiter(s12, void 0, void 0, function() {
            var t2, s13, a11;
            return __generator(this, function(n6) {
              switch (n6.label) {
                case 0:
                  return t2 = i7, s13 = [__assign({}, r10)], a11 = {}, [4, this.getDecryptedContext(r10.context)];
                case 1:
                  return t2.apply(void 0, [__assign.apply(void 0, s13.concat([(a11.context = n6.sent(), a11)]))]), [2];
              }
            });
          });
        }), [2]) : [2];
      });
    });
  }, this.getEncryptedContext = function(e10) {
    return __awaiter(o7, void 0, void 0, function() {
      var t2, i6, r10, s12, a10, o8, c14;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return t2 = this.identification, i6 = t2.identifier, r10 = t2.cryptoKey, a10 = (s12 = JSON).stringify, c14 = { eventName: e10.eventName, key: e10.key ? e10.key : void 0 }, e10.data ? [4, p7(i6, r10, JSON.stringify(e10.data))] : [3, 2];
          case 1:
            return o8 = n6.sent(), [3, 3];
          case 2:
            o8 = void 0, n6.label = 3;
          case 3:
            return [2, a10.apply(s12, [(c14.data = o8, c14)])];
        }
      });
    });
  }, this.getDecryptedContext = function(i6) {
    return __awaiter(o7, void 0, void 0, function() {
      var t2, r10, s12, a10, o8, c14, d8, u13;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return t2 = this.identification, r10 = t2.identifier, s12 = t2.cryptoKey, (a10 = JSON.parse(i6)).data && "string" == typeof a10.data ? (u13 = (d8 = JSON).parse, [4, m6(r10, s12, a10.data)]) : [3, 2];
          case 1:
            return c14 = u13.apply(d8, [n6.sent()]), [3, 3];
          case 2:
            c14 = void 0, n6.label = 3;
          case 3:
            return o8 = c14, [2, __assign(__assign({}, a10), { data: o8 })];
        }
      });
    });
  }, this.windowType = s11;
};

// node_modules/@liff/native-bridge/lib/index.es.js
function l8(e10) {
  return new CustomEvent(o, { detail: e10 });
}
!function() {
  if ("undefined" != typeof window && "function" != typeof window.CustomEvent) {
    let t2 = function(t3, e10) {
      var i6 = e10 || {}, o7 = i6.bubbles, n6 = void 0 !== o7 && o7, a10 = i6.cancelable, r10 = void 0 !== a10 && a10, d8 = i6.detail, l13 = void 0 === d8 ? void 0 : d8, f14 = document.createEvent("CustomEvent");
      return f14.initCustomEvent(t3, n6, r10, l13), f14;
    };
    t2.prototype = Event.prototype, window.CustomEvent = t2;
  }
}();
var f7 = {};
var c9 = false;
function s6(e10, i6) {
  c9 || (c9 = true, window.addEventListener(o, function(t2) {
    t2 && t2.detail && t2.detail.type && f7[t2.detail.type] && f7[t2.detail.type].forEach(function(e11) {
      return e11(t2);
    });
  })), f7[e10] ? f7[e10].push(i6) : f7[e10] = [i6];
}
function u7(t2, e10) {
  var i6 = f7[t2];
  if (i6 && Array.isArray(i6)) {
    var o7 = i6.indexOf(e10);
    o7 >= 0 && i6.splice(o7, 1);
  }
}
function v5(t2) {
  var i6 = {};
  try {
    i6 = JSON.parse(t2);
  } catch (r10) {
    throw w(i3, r10.message);
  }
  var a10 = l8(i6);
  i.debug("[client dispatchEvent to js]", { type: a10.type, detail: a10.detail }), window.dispatchEvent(a10);
}
function p8(t2, a10, d8) {
  void 0 === a10 && (a10 = {}), void 0 === d8 && (d8 = "");
  var l13 = w2();
  if (!l13) throw w(E, "Invalid featureToken for client features");
  if (!window._liff || !window._liff.postMessage) throw w(i3, "postMessage is not available from client");
  i.debug("[js postMessage to client]", t2, d8, a10), window._liff.postMessage(t2, l13, d8, JSON.stringify(a10));
}
function w5(t2, e10, l13) {
  return void 0 === e10 && (e10 = {}), void 0 === l13 && (l13 = { once: true }), w2() ? (l13 = __assign({ callbackId: x(12), once: true }, l13), new Promise(function(i6, n6) {
    var a10 = function(e11) {
      if (e11 && e11.detail) {
        var r10 = e11.detail.callbackId === l13.callbackId, d8 = "string" != typeof e11.detail.callbackId;
        (r10 || d8) && (l13.once && u7(t2, a10), i.debug("[callback detail]", e11.detail), e11.detail.error ? n6(e11.detail.error) : e11.detail.data ? i6(e11.detail.data) : n6(e11.detail));
      }
      n6();
    };
    s6(t2, a10), p8(t2, e10, l13.callbackId);
  })) : Promise.reject(w(E, "Invalid featureToken for client features"));
}

// node_modules/@liff/close-window/lib/index.es.js
function r8() {
  var o7 = r5();
  null !== o7 && ("ios" === e6() && f2(o7, "9.19") >= 0 || "android" === e6() && f2(o7, "11.6.0") >= 0) ? location.href = "liff://close" : window._liff && window._liff.postMessage ? null !== o7 && f2(o7, "10.15.0") >= 0 ? "ios" === e6() ? window._liff.postMessage("closeWindow", "") : window._liff.postMessage("closeWindow", "", "", "") : w5("closeWindow") : window.close();
}
var l9 = function(i6) {
  function n6() {
    return null !== i6 && i6.apply(this, arguments) || this;
  }
  return __extends(n6, i6), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "closeWindow";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    return function() {
      return r8();
    };
  }, n6;
}(a);

// node_modules/@liff/sub-window/lib/index.es.js
function G3(t2) {
  var e10 = l7("subWindowGetOrigin");
  return f5(e10(t2));
}
var V2 = {};
function F3(t2, e10) {
  t2 && V2[t2] && V2[t2].forEach(function(t3) {
    t3(e10);
  });
}
function _2(t2, e10) {
  V2[t2] || (V2[t2] = []), V2[t2].push(e10);
}
function q2(t2, e10) {
  if (V2[t2]) {
    var n6 = V2[t2].indexOf(e10);
    n6 >= 0 && V2[t2].splice(n6, 1);
  }
}
var z2;
var H3;
var Q2;
var X2;
var Y2;
var Z2 = function() {
  function t2(t3) {
    this.storage = t3;
  }
  return t2.prototype.getItem = function(t3) {
    return this.storage.getItem("".concat(this.getKeyPrefix(), ":").concat(t3));
  }, t2.prototype.setItem = function(t3, e10) {
    this.storage.setItem("".concat(this.getKeyPrefix(), ":").concat(t3), e10);
  }, t2.prototype.removeItem = function(t3) {
    this.storage.removeItem("".concat(this.getKeyPrefix(), ":").concat(t3));
  }, t2.prototype.clear = function() {
    this.storage.clear();
  }, t2.prototype.getKeyPrefix = function() {
    return "".concat(l2, ":").concat(this.getLiffId());
  }, t2.prototype.getLiffId = function() {
    var t3 = c5().liffId;
    if (!t3) throw w(n3, "liffId is necessary for liff.init()");
    return t3;
  }, t2;
}();
var $3 = new Z2(new b());
function tt() {
  var t2 = $3.getItem("subWindowStatusUpdated");
  return null !== t2 && JSON.parse(t2);
}
function et(t2) {
  $3.setItem("subWindowStatusUpdated", String(t2));
}
function nt(t2) {
  z2 = t2;
}
function rt() {
  return z2;
}
function it() {
  return Q2;
}
function ot() {
  return X2;
}
function st(n6) {
  return void 0 === n6 && (n6 = f6.MAIN), __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return [4, (Y2 = new E4(n6)).setup()];
        case 1:
          return t2.sent(), [2, Y2];
      }
    });
  });
}
function ut() {
  return Y2;
}
var at = new b();
var ct = new Z2(J() ? at : window.sessionStorage);
function ft(t2) {
  ct.setItem("mainWindowOrigin", t2);
}
function lt() {
  return ct.getItem("mainWindowOrigin");
}
function dt(n6, r10) {
  return void 0 === r10 && (r10 = {}), __awaiter(this, void 0, void 0, function() {
    var t2, i6, o7, s11, u13, a10, c14, f14;
    return __generator(this, function(e10) {
      switch (e10.label) {
        case 0:
          if (null == (t2 = ut()) ? void 0 : t2.isReady()) return [3, 5];
          if (i6 = JSON.stringify(r10), o7 = c5().liffId, s11 = lt(), !window.opener || !s11 || !o7) throw w(N);
          u13 = false, e10.label = 1;
        case 1:
          return e10.trys.push([1, 3, , 4]), [4, G3(o7)];
        case 2:
          return a10 = e10.sent(), u13 = a10.subwindowCommonModule, [3, 4];
        case 3:
          throw c14 = e10.sent(), i.debug(c14), w(N);
        case 4:
          return f14 = u13 ? s11 : location.origin, [2, new Promise(function(t3) {
            window.addEventListener("message", function e11(r11) {
              (function(t4) {
                if (t4.data && "string" == typeof t4.data.type && [C.SUBMIT, C.CANCEL].includes(t4.data.type)) return true;
                return false;
              })(r11) && (window.removeEventListener("message", e11), t3({ status: n6, result: i6 }));
            }), window.opener.postMessage({ status: n6, result: i6 }, f14);
          })];
        case 5:
          return t2.send({ eventName: n6, data: r10 }), [4, new Promise(function(t3) {
            setTimeout(t3, 500);
          })];
        case 6:
          return e10.sent(), [2, { status: n6, result: JSON.stringify(r10) }];
      }
    });
  });
}
function mt(t2) {
  var e10, n6 = ot();
  if (t2.origin === n6) {
    var r10 = t2.data;
    if (r10) {
      var i6, o7 = r10.status, s11 = r10.result;
      try {
        i6 = JSON.parse(s11 || "{}");
      } catch (u13) {
        i6 = {};
      }
      switch (o7) {
        case R:
          window.clearInterval(it()), wt();
          break;
        case C.CANCEL:
        case C.SUBMIT:
          et(true), window.clearInterval(it()), window.removeEventListener("message", mt), F3(o7, i6), null === (e10 = rt()) || void 0 === e10 || e10.postMessage({ type: o7 }, ot());
          break;
        default:
          i.debug("unexpected message");
      }
    }
  }
}
var vt = function(n6) {
  return __awaiter(void 0, void 0, void 0, function() {
    var t2, r10, i6, o7;
    return __generator(this, function(e10) {
      if (tt()) return [2];
      switch (t2 = n6.context, r10 = t2.eventName, i6 = t2.data, o7 = ut(), r10) {
        case C.INIT:
          ht(!i6.hasOpener);
          break;
        case C.CANCEL:
        case C.SUBMIT:
          et(true), F3(r10, i6), null == o7 || o7.reply(n6, { eventName: r10 });
          break;
        case C.CLOSE:
          false === tt() && (et(true), F3(C.CLOSE, {})), wt();
      }
      return [2];
    });
  });
};
function pt() {
  window.clearInterval(H3), window.clearInterval(it()), window.removeEventListener("message", mt);
}
function ht(t2) {
  if (void 0 === t2 && (t2 = false), pt(), et(false), t2) {
    var e10 = rt();
    e10 && (e10.close(), nt(null));
  }
}
function wt() {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(e10) {
      switch (e10.label) {
        case 0:
          return (t2 = ut()) ? [4, t2.teardown()] : [3, 2];
        case 1:
          e10.sent(), e10.label = 2;
        case 2:
          return [2];
      }
    });
  });
}
function gt(i6) {
  var o7;
  return __awaiter(this, void 0, void 0, function() {
    var t2, s11, u13, a10, c14, f14, l13, b8, y6, S7, I7;
    return __generator(this, function(e10) {
      switch (e10.label) {
        case 0:
          return (t2 = k(i6.url)) ? (ht(true), [4, wt()]) : [2, Promise.reject(w(i3, "params.url must be liff url or mini url"))];
        case 1:
          return e10.sent(), nt("ios" !== e6() || P() ? window.open("", "liffsubwindow", "width=480, height=640, menubar=no, toolbar=no, scrollbars=yes") : window.open()), s11 = i6.url, u13 = i6.appData, (a10 = new URL(s11)).searchParams.append(L, "true"), [4, st()];
        case 2:
          return c14 = e10.sent(), a10.searchParams.append(o5, c14.identification.identifier), a10.searchParams.append(c8, c14.identification.cryptoKey), a10.hostname = function(t3) {
            var e11 = __read(t3.split(".")), i7 = e11[0], o8 = e11.slice(1);
            return __spreadArray(["".concat(i7, "-ext")], __read(o8), false).join(".");
          }(a10.hostname), f14 = a10.toString(), [4, G3(t2)];
        case 3:
          if (l13 = e10.sent(), b8 = l13.origin, y6 = l13.subwindowCommonModule, !(S7 = rt())) throw w(f);
          if (!y6) return S7.close(), [2];
          !function(t3) {
            X2 = t3;
          }(b8), c14.listen(vt), c14.setData("appData", u13), window.addEventListener("message", mt), e10.label = 4;
        case 4:
          return e10.trys.push([4, 6, , 7]), [4, null === (o7 = i6.onBeforeTransition) || void 0 === o7 ? void 0 : o7.call(i6)];
        case 5:
          return e10.sent(), [3, 7];
        case 6:
          throw I7 = e10.sent(), S7.close(), I7;
        case 7:
          return S7.location.href = f14, P6 = function(t3, e11) {
            var n6 = rt(), r10 = { type: R };
            return e11 && (r10.message = JSON.stringify(e11)), window.setInterval(function() {
              null == n6 || n6.postMessage(r10, t3);
            }, S);
          }(b8, u13), Q2 = P6, function(t3) {
            H3 = t3;
          }(window.setInterval(function() {
            var t3 = rt();
            t3 && t3.closed && (pt(), nt(null), false === tt() && (et(true), F3(C.CLOSE, {})));
          }, p)), [2];
      }
      var P6;
    });
  });
}
var bt = null;
function yt(i6) {
  return __awaiter(this, void 0, void 0, function() {
    var o7, s11, u13, a10, c14, f14, l13, m10, v7, h6, w7, g10, y6, S7, I7 = this;
    return __generator(this, function(P6) {
      switch (P6.label) {
        case 0:
          if (o7 = i6.msit, s11 = i6.mstChallenge, u13 = i6.reconnectCount, a10 = void 0 === u13 ? 0 : u13, c14 = function() {
            return __awaiter(I7, void 0, void 0, function() {
              return __generator(this, function(t2) {
                switch (t2.label) {
                  case 0:
                    return [4, (e10 = 1e3, new Promise(function(t3) {
                      return setTimeout(t3, e10);
                    }))];
                  case 1:
                    return t2.sent(), [4, yt({ msit: o7, mstChallenge: s11, onSuccess: i6.onSuccess, onError: i6.onError, reconnectCount: a10 + 1 })];
                  case 2:
                    return t2.sent(), [2];
                }
                var e10;
              });
            });
          }, f14 = function() {
            for (var t2 = [], e10 = 0; e10 < arguments.length; e10++) t2[e10] = arguments[e10];
            bt = null, i6.onSuccess.apply(i6, __spreadArray([], __read(t2), false));
          }, l13 = function() {
            for (var t2 = [], e10 = 0; e10 < arguments.length; e10++) t2[e10] = arguments[e10];
            bt = null, i6.onError.apply(i6, __spreadArray([], __read(t2), false));
          }, m10 = Date.now(), null === bt && (bt = m10), v7 = m10 - bt, a10 >= 10 || v7 > 6e5) return l13(w(e2, "Failed to connect")), [2];
          P6.label = 1;
        case 1:
          return P6.trys.push([1, 3, , 5]), [4, p6(l7("subWindowSubscribe"), { method: "POST", body: JSON.stringify({ msit: o7, mstChallenge: s11 }) })];
        case 2:
          return h6 = P6.sent(), [3, 5];
        case 3:
          return P6.sent(), [4, c14()];
        case 4:
          return P6.sent(), [2];
        case 5:
          return h6.status >= 500 ? [4, c14()] : [3, 7];
        case 6:
          return P6.sent(), [3, 17];
        case 7:
          return h6.status >= 400 && 500 > h6.status ? [4, St(h6)] : [3, 9];
        case 8:
          return g10 = P6.sent(), w7 = g10 ? w(i3, g10.errorDetail) : w(e2, "Some error happened in the server"), l13(w7), [3, 17];
        case 9:
          return 200 !== h6.status ? [3, 16] : [4, St(h6)];
        case 10:
          if (!(g10 = P6.sent())) return l13(w(e2, "Some error happened in the server")), [2];
          switch (y6 = g10.status, S7 = g10.result, y6) {
            case C.ERROR:
              return [3, 11];
            case C.CLOSE:
            case C.CANCEL:
            case C.SUBMIT:
              return [3, 13];
          }
          return [3, 14];
        case 11:
          return [4, c14()];
        case 12:
          return P6.sent(), [3, 15];
        case 13:
          return f14(y6, S7), [3, 15];
        case 14:
          l13(w(e2, "Some error happened in the server")), P6.label = 15;
        case 15:
          return [3, 17];
        case 16:
          l13(w(e2, "Some error happened in the server")), P6.label = 17;
        case 17:
          return [2];
      }
    });
  });
}
function St(n6) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return t2.trys.push([0, 2, , 3]), [4, n6.json()];
        case 1:
          return [2, t2.sent()];
        case 2:
          return t2.sent(), [2, null];
        case 3:
          return [2];
      }
    });
  });
}
function It(t2) {
  var e10 = {};
  return Object.keys(t2).forEach(function(n6) {
    "closeButtonColor" === n6 ? "white" === t2[n6] ? e10[n6] = "#ffffff" : e10[n6] = "#000000" : e10[n6] = t2[n6];
  }), e10;
}
var Ot = { height: "full", closeButtonPosition: "right", closeButtonColor: "black", closeButtonLabel: "" };
function Pt(n6) {
  var r10 = n6.appData, i6 = n6.native, o7 = c5().liffId, s11 = M(), u13 = k(n6.url);
  if (!o7) return Promise.reject(w(t, "liffId is invalid"));
  if (!s11) return Promise.reject(w(t, "mst_challenge is invalid"));
  if (!u13) return Promise.reject(w(i3, "params.url must be liff url or mini url"));
  var a10 = Object.assign({}, Ot, i6);
  return function(t2) {
    var e10 = t2.mainLiffId, n7 = t2.subLiffId, r11 = t2.mstChallenge, i7 = t2.appData, o8 = t2.view;
    return e10 && r11 ? f5(l7("subWindowGetMSIT"), { method: "POST", body: JSON.stringify({ mainLiffId: e10, subLiffId: n7, mstChallenge: r11, appData: i7, view: o8 }) }) : Promise.reject(w(i3, "no proper argument"));
  }({ mainLiffId: o7, subLiffId: u13, mstChallenge: s11, appData: r10, view: It(a10) }).then(function(t2) {
    var e10 = t2.msit;
    return yt({ msit: e10, mstChallenge: s11, onSuccess: function(t3, e11) {
      F3(t3, e11);
    }, onError: function(t3) {
      F3(C.ERROR, t3);
    } }), e10;
  }).then(function(r11) {
    return function(n7, r12) {
      var i7;
      return __awaiter(this, void 0, void 0, function() {
        var t2, o8;
        return __generator(this, function(e10) {
          switch (e10.label) {
            case 0:
              return t2 = n7.url, (o8 = new URLSearchParams()).set("msit", r12), [4, null === (i7 = n7.onBeforeTransition) || void 0 === i7 ? void 0 : i7.call(n7)];
            case 1:
              return e10.sent(), location.href = "".concat(m, "?url=").concat(encodeURIComponent(t2), "&").concat(o8.toString()), [2];
          }
        });
      });
    }(n6, r11);
  });
}
function Ct(t2) {
  return C4.subwindowOpen(), u3() ? Pt(t2) : gt(t2);
}
function Lt(t2) {
  if (!t2.mst || !t2.status) return Promise.reject(w(i3, "no proper argument"));
  var e10 = JSON.stringify(t2);
  return f5(l7("subWindowPost"), { method: "POST", body: e10 });
}
function Et() {
  if (!d3()) throw w(t, "this api can be only called in child window");
}
function Nt(n6) {
  return void 0 === n6 && (n6 = {}), Et(), u3() ? function(n7) {
    return void 0 === n7 && (n7 = {}), __awaiter(this, void 0, void 0, function() {
      var t2, r10;
      return __generator(this, function(e10) {
        switch (e10.label) {
          case 0:
            return (t2 = D2()) ? [4, Lt({ mst: t2, status: C.CANCEL, result: n7 })] : [2, Promise.reject(w(t, "mst is invalid"))];
          case 1:
            return r10 = e10.sent(), et(true), [2, r10];
        }
      });
    });
  }(n6) : function(t2) {
    return void 0 === t2 && (t2 = {}), dt(C.CANCEL, t2);
  }(n6);
}
function Tt(n6) {
  return void 0 === n6 && (n6 = {}), Et(), u3() ? function(n7) {
    return void 0 === n7 && (n7 = {}), __awaiter(this, void 0, void 0, function() {
      var t2, r10;
      return __generator(this, function(e10) {
        switch (e10.label) {
          case 0:
            return (t2 = D2()) ? [4, Lt({ mst: t2, status: C.SUBMIT, result: n7 })] : [2, Promise.reject(w(t, "mst is invalid"))];
          case 1:
            return r10 = e10.sent(), et(true), [2, r10];
        }
      });
    });
  }(n6) : function(t2) {
    return void 0 === t2 && (t2 = {}), dt(C.SUBMIT, t2);
  }(n6);
}
function jt() {
  return Et(), u3() ? function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2;
      return __generator(this, function(e10) {
        switch (e10.label) {
          case 0:
            return false !== tt() ? [3, 2] : (t2 = D2()) ? [4, Lt({ mst: t2, status: C.CLOSE, result: {} })] : [2, Promise.reject(w(t, "mst is invalid"))];
          case 1:
            e10.sent(), e10.label = 2;
          case 2:
            return r8(), [2];
        }
      });
    });
  }() : function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2;
      return __generator(this, function(e10) {
        return (null == (t2 = ut()) ? void 0 : t2.isReady()) ? (t2.send({ eventName: C.CLOSE }), [2, new Promise(function(t3) {
          setTimeout(function() {
            r8(), t3();
          }, S);
        })]) : (r8(), [2, Promise.resolve()]);
      });
    });
  }();
}
function Mt() {
  return Et(), function() {
    var t2, e10 = b2();
    try {
      t2 = e10 ? JSON.parse(e10) : {};
    } catch (n6) {
      t2 = {};
    }
    return Promise.resolve(t2);
  }();
}
function Bt(t2) {
  var e10 = t2.msit, n6 = t2.mstVerifier;
  return e10 && n6 ? f5(l7("subWindowGetMSTByMSIT"), { method: "POST", body: JSON.stringify({ msit: e10, mstVerifier: n6 }) }) : Promise.reject(w(i3, "no proper argument"));
}
function Dt(t2) {
  var e10 = t2.mst;
  return e10 ? f5(l7("subWindowGetAppData"), { method: "POST", body: JSON.stringify({ mst: e10 }) }) : Promise.reject(w(i3, "no proper argument"));
}
var At = { on: _2, off: q2, open: Ct, cancel: Nt, submit: Tt, close: jt, getAppData: Mt };
var Jt = function(t2) {
  function e10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(e10, t2), Object.defineProperty(e10.prototype, "name", { get: function() {
    return "subWindow";
  }, enumerable: false, configurable: true }), e10.prototype.install = function() {
    var t3 = this;
    return { on: _2.bind(this), off: q2.bind(this), open: function(e11) {
      return Ct.call(t3, __assign(__assign({}, e11), { onBeforeTransition: void 0 }));
    }, cancel: Nt.bind(this), submit: Tt.bind(this), close: jt.bind(this), getAppData: Mt.bind(this) };
  }, e10;
}(a);

// node_modules/@liff/login/lib/index.es.js
var import_tiny_sha256 = __toESM(require_tiny_sha256());

// node_modules/@liff/hooks/lib/index.es.js
var s7 = function() {
  var e10 = this;
  this.type = "sync", this.fns = /* @__PURE__ */ new Set(), this.on = function(n6) {
    e10.fns.add(n6);
  }, this.call = function() {
    for (var i6, s11, a10 = [], o7 = 0; o7 < arguments.length; o7++) a10[o7] = arguments[o7];
    try {
      for (var l13 = __values(e10.fns), c14 = l13.next(); !c14.done; c14 = l13.next()) {
        var f14 = c14.value;
        f14.apply(void 0, __spreadArray([], __read(a10), false));
      }
    } catch (u13) {
      i6 = { error: u13 };
    } finally {
      try {
        c14 && !c14.done && (s11 = l13.return) && s11.call(l13);
      } finally {
        if (i6) throw i6.error;
      }
    }
  };
};
var a6 = function() {
  var s11 = this;
  this.type = "async", this.fns = /* @__PURE__ */ new Set(), this.on = function(n6) {
    s11.fns.add(n6);
  }, this.call = function() {
    for (var a10 = [], o7 = 0; o7 < arguments.length; o7++) a10[o7] = arguments[o7];
    return __awaiter(s11, void 0, void 0, function() {
      var e10, s12, o8, l13, c14, f14;
      return __generator(this, function(i6) {
        switch (i6.label) {
          case 0:
            e10 = [];
            try {
              for (s12 = __values(this.fns), o8 = s12.next(); !o8.done; o8 = s12.next()) l13 = o8.value, e10.push(l13.apply(void 0, __spreadArray([], __read(a10), false)));
            } catch (u13) {
              c14 = { error: u13 };
            } finally {
              try {
                o8 && !o8.done && (f14 = s12.return) && f14.call(s12);
              } finally {
                if (c14) throw c14.error;
              }
            }
            return [4, Promise.all(e10)];
          case 1:
            return i6.sent(), [2];
        }
      });
    });
  };
};

// node_modules/@liff/login/lib/index.es.js
var _3 = function(i6) {
  var m10, g10 = x(43), _5 = y((0, import_tiny_sha256.default)(g10)).replace(/\+/g, "-").replace(/\//g, "_").replace(/=/g, ""), b8 = c5();
  if (!b8 || !b8.liffId) throw w(n3, "You need to define `liffId` for liff.login()");
  var v7 = { app_id: b8.liffId, state: x(12), response_type: "code", code_challenge_method: "S256", code_challenge: _5, liff_sdk_version: r4() };
  i6 && i6.redirectUri && (v7.redirect_uri = i6.redirectUri), d3() && !u3() && ((null === (m10 = ut()) || void 0 === m10 ? void 0 : m10.isReady()) ? v7.redirect_uri = window.location.href : v7.disable_auto_login = "true"), Q({ codeVerifier: g10 });
  var w7 = l7("authorize") + "?" + A2.stringify(v7);
  i.debug("[Redirect] ".concat(w7)), window.location.href = w7;
};
var b5 = function(o7) {
  function r10() {
    var i6 = null !== o7 && o7.apply(this, arguments) || this;
    return i6.hooks = { before: new s7() }, i6;
  }
  return __extends(r10, o7), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "login";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return this._login.bind(this);
  }, r10.prototype._login = function(i6) {
    this.hooks.before.call(i6), _3(i6);
  }, r10;
}(a);

// node_modules/@liff/i18n/lib/index.es.js
var a7;
var u9 = "undefined" == typeof navigator ? "en" : null !== (a7 = navigator.language) && void 0 !== a7 ? a7 : "en";
var c10 = null;
function l10(n6) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return u9 = n6, [4, f8()];
        case 1:
          return t2.sent(), [2];
      }
    });
  });
}
function f8() {
  return __awaiter(this, void 0, void 0, function() {
    var n6, t2;
    return __generator(this, function(e10) {
      switch (e10.label) {
        case 0:
          return [4, f5("".concat("https://liffsdk.line-scdn.net/xlt/manifest.json"), { method: "GET", headers: { Accept: "application/json" } })];
        case 1:
          return n6 = e10.sent(), t2 = "".concat(u9), !n6.languages[t2] && u9.includes("-") && (t2 = u9.split("-")[0]), n6.languages[t2] || (t2 = "en"), [4, f5("".concat("https://liffsdk.line-scdn.net/xlt", "/").concat(n6.languages[t2]), { method: "GET", headers: { Accept: "application/json" } })];
        case 2:
          return c10 = e10.sent(), [2];
      }
    });
  });
}
function p9(n6) {
  if (null === c10) throw w(I, "please call xlt after liff.init");
  return c10[n6];
}
var d6 = function(i6) {
  function r10() {
    return null !== i6 && i6.apply(this, arguments) || this;
  }
  return __extends(r10, i6), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "i18n";
  }, enumerable: false, configurable: true }), r10.prototype.install = function(n6) {
    return n6.internalHooks.init.beforeFinished(this.beforeInitFinished.bind(this)), { setLang: l10 };
  }, r10.prototype.beforeInitFinished = function() {
    return __awaiter(this, void 0, void 0, function() {
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return [4, f8()];
          case 1:
            return n6.sent(), [2];
        }
      });
    });
  }, r10;
}(a);
var h5 = new d6();

// node_modules/@liff/init/lib/index.es.js
var Ae = { iconColor: "#111111", statusBarColor: "BLACK", titleTextColor: "#111111", titleSubtextColor: "#B7B7B7", titleButtonColor: "#111111", titleBackgroundColor: "#FFFFFF", progressBarColor: "#06C755", progressBackgroundColor: "#FFFFFF", titleButtonAreaBackgroundColor: "#1FFFFFFF", titleButtonAreaBorderColor: "#26000000", baseBackgroundColor: "#FFFFFF", baseTextColor: "#000000", lightButtonBorderColor: "rgba(0, 0, 0, 0.15)" };
var Te = { iconColor: "#FFFFFF", statusBarColor: "WHITE", titleTextColor: "#FFFFFF", titleSubtextColor: "#949494", titleButtonColor: "#FFFFFF", titleBackgroundColor: "#111111", progressBarColor: "#06C755", progressBackgroundColor: "#111111", titleButtonAreaBackgroundColor: "#1FFFFFFF", titleButtonAreaBorderColor: "#26000000", baseBackgroundColor: "#000000", baseTextColor: "#FFFFFF", lightButtonBorderColor: "rgba(255, 255, 255, 0.5)" };
function Ee() {
  var e10;
  De("color-scheme", ((null == (e10 = E3()) ? void 0 : e10.menuColorSetting) || { adaptableColorSchemes: ["light"] }).adaptableColorSchemes.join(" "));
  var t2 = window.matchMedia("(prefers-color-scheme: dark)");
  Le({ matches: null == t2 ? void 0 : t2.matches, media: null == t2 ? void 0 : t2.media }), t2.addEventListener ? t2.addEventListener("change", Le) : t2.addListener && t2.addListener(Le);
}
function Le(t2) {
  var r10 = E3(), n6 = (null == r10 ? void 0 : r10.menuColorSetting) || { adaptableColorSchemes: ["light"], lightModeColor: Ae, darkModeColor: Te }, o7 = n6.adaptableColorSchemes, i6 = n6.lightModeColor, a10 = n6.darkModeColor, c14 = o7.includes("dark");
  t2.matches && c14 ? Ne(__assign(__assign({}, Te), a10)) : Ne(__assign(__assign({}, Ae), i6));
}
function Ne(e10) {
  var t2 = e10.iconColor, r10 = e10.statusBarColor, n6 = e10.titleTextColor, o7 = e10.titleSubtextColor, i6 = e10.titleButtonColor, a10 = e10.titleBackgroundColor, c14 = e10.progressBarColor, s11 = e10.progressBackgroundColor, u13 = e10.titleButtonAreaBackgroundColor, d8 = e10.titleButtonAreaBorderColor, h6 = e10.baseBackgroundColor, p12 = e10.baseTextColor, v7 = e10.lightButtonBorderColor;
  De("--liff-base-background-color", h6), De("--liff-base-text-color", p12), De("--liff-base-background-rgb-color", d(h6)), De("--liff-base-text-rgb-color", d(p12)), De("--liff-light-button-border-color", v7), De("--liff-title-text-color", n6), De("--liff-title-background-color", a10), De("--liff-title-button-color", i6), De("--liff-icon-color", t2), De("--liff-status-bar-color", r10), De("--liff-title-subtext-color", o7), De("--liff-progress-bar-color", c14), De("--liff-progress-background-color", s11), De("--liff-title-button-area-background-color", s3(u13)), De("--liff-title-button-area-border-color", s3(d8));
}
function De(e10, t2) {
  document.documentElement.style.setProperty(e10, t2);
}
var Ue = { addToHomeScreen: function(e10) {
  if (!new o3(e10).invoke("addToHomeScreen")) throw w(E, "No permission for liff.addToHomeScreen()");
}, scanCode: function(e10) {
  if (!new o3(e10).invoke("scanCode")) return Promise.reject(w(E, "No permission for liff.scanCode()"));
}, getAdvertisingId: function(e10) {
  if (!new o3(e10).invoke("getAdvertisingId")) return Promise.reject(w(E, "No permission for liff.getAdvertisingId()"));
}, initPlugins: function() {
} };
function Oe(e10) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return [4, y3()];
        case 1:
          return (t2 = r10.sent()) ? (t2.install(e10, Ue), [2]) : [2];
      }
    });
  });
}
function Pe() {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(e10) {
      switch (e10.label) {
        case 0:
          return [4, f5(l7("certs"))];
        case 1:
          return [2, e10.sent()];
      }
    });
  });
}
function We(e10, n6, o7) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return [4, crypto.subtle.importKey("jwk", e10, { name: "ECDSA", namedCurve: "P-256" }, false, ["verify"])];
        case 1:
          return t2 = r10.sent(), [4, crypto.subtle.verify({ name: "ECDSA", hash: { name: "SHA-256" } }, t2, o7, n6)];
        case 2:
          return [2, r10.sent()];
      }
    });
  });
}
function je(e10, o7) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, i6, a10, c14, s11, l13, f14, p12, v7, m10, w7, g10, b8, k4, C6, F4;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return t2 = e10.split("."), i6 = __read(t2, 3), a10 = i6[0], c14 = i6[1], s11 = i6[2], l13 = JSON.parse(u2.decode(a10)), f14 = JSON.parse(u2.decodeUnicode(c14)), p12 = l3(u2.decode(s11)), v7 = l3("".concat(a10, ".").concat(c14)), [4, Pe()];
        case 1:
          if (m10 = r10.sent(), !(w7 = m10.keys.find(function(e11) {
            return e11.kid === l13.kid;
          }))) return [3, 6];
          if (delete w7.alg, "ES256" !== l13.alg) throw w(T, 'Invalid "alg" value in ID_TOKEN');
          g10 = void 0, r10.label = 2;
        case 2:
          return r10.trys.push([2, 4, , 5]), [4, We(w7, v7, p12)];
        case 3:
          return g10 = r10.sent(), [3, 5];
        case 4:
          throw b8 = r10.sent(), w(T, "".concat("Failed to use Crypto API to verify ID_TOKEN", ": ").concat(b8));
        case 5:
          if (g10) {
            if (k4 = f14.iss !== "https://access.".concat("line.me"), C6 = f14.aud !== o7, F4 = 1e3 * f14.exp < Date.now(), k4) throw w(T, 'Invalid "iss" value in ID_TOKEN');
            if (C6) throw w(T, 'Invalid "aud" value in ID_TOKEN');
            if (F4) throw w(T, 'Invalid "exp" value in ID_TOKEN');
            return [2, f14];
          }
          throw w(T, "Invalid signature in ID_TOKEN");
        case 6:
          throw w(T, 'Invalid "kid" value in ID_TOKEN');
        case 7:
          return [2];
      }
    });
  });
}
function He(e10) {
  var t2 = e10.split(".");
  if (t2[1]) try {
    var r10 = t2[1].replace(/-/g, "+").replace(/_/g, "/");
    return JSON.parse(window.atob(r10));
  } catch (n6) {
    return null;
  }
  return null;
}
function Ke(e10) {
  var t2 = e10.pathname, r10 = e10.query, n6 = r10 ? "?".concat(A2.stringify(r10)) : "", o7 = "".concat("liff://").concat(t2).concat(n6);
  location.href = o7;
}
var Me = null;
function Re() {
  "boolean" == typeof Me && i.warn("liff.init is not expected to be called more than once"), Me = !!O3() || !(!u3() || A2.parse(window.location.hash).feature_token || w2()) && (P2(true), true);
}
function Ve() {
  return Boolean(Me);
}
function Je(e10, n6) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return (t2 = D2()) ? [2, t2] : e10 && n6 ? [4, Bt({ msit: e10, mstVerifier: n6 })] : [3, 2];
        case 1:
          return [2, r10.sent().mst];
        case 2:
          return [2, null];
      }
    });
  });
}
function qe(e10) {
  return f5("".concat(l7("apps"), "/").concat(e10, "/featureToken"));
}
function ze(e10) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, n6, i6, a10;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return t2 = A2.parse(window.location.hash), n6 = function(e11) {
            for (var t3, r11, n7 = [], i7 = 1; i7 < arguments.length; i7++) n7[i7 - 1] = arguments[i7];
            var a11 = function(t4) {
              Object.keys(t4).filter(function(e12) {
                return null !== t4[e12] && void 0 !== t4[e12];
              }).forEach(function(r12) {
                e11[r12] = t4[r12];
              });
            };
            try {
              for (var c14 = __values(n7), s11 = c14.next(); !s11.done; s11 = c14.next()) {
                a11(s11.value);
              }
            } catch (l13) {
              t3 = { error: l13 };
            } finally {
              try {
                s11 && !s11.done && (r11 = c14.return) && r11.call(c14);
              } finally {
                if (t3) throw t3.error;
              }
            }
            return e11;
          }({ access_token: x2(), context_token: K(), feature_token: w2(), id_token: X(), client_id: j2(), mst_challenge: M(), mst_verifier: h2(), msit: v2() }, t2), Ve() ? e3() ? [4, qe(e10)] : [3, 2] : [3, 3];
        case 1:
          i6 = r10.sent().featureToken, n6.feature_token || (n6.feature_token = i6), r10.label = 2;
        case 2:
          (a10 = m2(e10)) && (n6.client_id = a10), r10.label = 3;
        case 3:
          return [2, n6];
      }
    });
  });
}
function Ge(e10) {
  if (e10.persisted && T4("multipleLiffTransition")) if ("ios" === e6()) window.location.reload();
  else {
    var t2 = c5().liffId, r10 = w2();
    if (!t2) throw w(I, "Invalid LIFF ID.");
    if (!r10) throw w(E, "Invalid featureToken for client features");
    Ke({ pathname: "app/".concat(t2), query: { feature_token: r10 } });
  }
}
function Qe(e10) {
  var n6, o7;
  return __awaiter(this, void 0, void 0, function() {
    var t2, i6, a10, c14, l13, f14, d8, h6, v7, g10, b8, C6, F4, I7, y6, _5, B3;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return [4, new Promise(function(e11) {
            var t3 = r5();
            if (!t3 || f2(t3, "9.5.0") < 0) e11();
            else if (window._liff && window._liff.features) e11();
            else {
              i.debug("cannot find window._liff.features, listen to ready event");
              var r11 = function() {
                i.debug("ready event is fired"), u7("ready", r11), e11();
              };
              s6("ready", r11);
            }
          })];
        case 1:
          return r10.sent(), Re(), [4, ze(e10.liffId)];
        case 2:
          if (t2 = r10.sent(), i6 = t2.access_token, a10 = t2.context_token, c14 = t2.feature_token, l13 = t2.id_token, f14 = t2.client_id, d8 = t2.mst_verifier, h6 = t2.mst_challenge, v7 = t2.msit, a10) {
            if ("string" != typeof a10) throw w(I, "Cannot get context token, perhaps there is an incorrect parameter in permanent link");
            I3(He(a10));
          }
          if (void 0 !== (null === (n6 = E3()) || void 0 === n6 ? void 0 : n6.liffId) && (null === (o7 = E3()) || void 0 === o7 ? void 0 : o7.liffId) !== e10.liffId) throw w(I, "Invalid LIFF ID");
          return !d3() && c14 && (!function(e11, t3) {
            T4("multipleLiffTransition") && Ke({ pathname: "app/".concat(e11), query: { feature_token: t3 } });
          }(e10.liffId, c14), Ve() && U3(c14)), h6 && R3(h6), d8 && A3(d8), f14 && F2(f14), v7 && C3(v7), window.addEventListener("pageshow", Ge), e3() ? [3, 5] : c14 && i6 ? [3, 5] : Ve() ? (g10 = E2(location.href, { "liff.hback": "2" }), _3({ redirectUri: g10 }), [4, new Promise(function() {
          })]) : [3, 4];
        case 3:
          r10.sent(), r10.label = 4;
        case 4:
          throw _3(), w(I, "Failed to parse feature_token or access_token");
        case 5:
          return i6 && c14 ? [4, d4(i6)] : [3, 7];
        case 6:
          if (b8 = r10.sent(), C6 = b8.client_id, F4 = b8.expires_in, I7 = m2(e10.liffId), C6 !== I7) throw _3(), w(I, "Failed to verify access_token");
          U3(c14), q(new Date(Date.now() + 1e3 * F4)), B2(i6), r10.label = 7;
        case 7:
          return [4, Je(v7, d8)];
        case 8:
          return (y6 = r10.sent()) ? (L3(y6), [4, Dt({ mst: y6 })]) : [3, 10];
        case 9:
          (_5 = r10.sent().data) && N2(JSON.stringify(_5)), r10.label = 10;
        case 10:
          return l13 && !X() && G2(l13), l13 && f14 && !Z() ? [4, je(l13, f14)] : [3, 12];
        case 11:
          (B3 = r10.sent()) && $2(B3), r10.label = 12;
        case 12:
          return [2];
      }
    });
  });
}
function Xe(e10) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, n6, o7, i6, a10, c14, s11;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return t2 = l7("apps"), n6 = "".concat(t2, "/").concat(e10, "/contextToken"), o7 = x2(), i6 = { "Content-Type": "application/json", Accept: "application/json" }, o7 && (i6.Authorization = "Bearer ".concat(o7)), [4, f5(n6, { headers: i6 })];
        case 1:
          if (a10 = r10.sent(), !(c14 = a10.contextToken)) throw w(I, "Can not get context from server.");
          if (!(s11 = He(c14))) throw w(I, "Invalid context token.");
          return [2, s11];
      }
    });
  });
}
function Ye() {
  return __awaiter(this, void 0, void 0, function() {
    var e10, t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          if (!(e10 = c5().liffId)) throw w(I, "Invalid LIFF ID.");
          return [4, Xe(e10)];
        case 1:
          return t2 = r10.sent(), I3(t2), [2];
      }
    });
  });
}
function Ze(e10) {
  return __awaiter(this, void 0, void 0, function() {
    var n6, o7, i6, a10 = this;
    return __generator(this, function(c14) {
      switch (c14.label) {
        case 0:
          n6 = function() {
            return __awaiter(a10, void 0, void 0, function() {
              var t2, n7, o8, i7, a11, c15;
              return __generator(this, function(r10) {
                switch (r10.label) {
                  case 0:
                    return [4, (s11 = c5(), l13 = A2.parse(window.location.search), f14 = J2(), u13 = { grant_type: "authorization_code", client_id: l13.liffClientId, appId: s11.liffId, code: l13.code, code_verifier: f14.codeVerifier, redirect_uri: s11.redirectUri || l13.liffRedirectUri, id_token_key_type: "JWK" }, d8 = A2.stringify(u13), f5(l7("token"), { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8" }, body: d8 }))];
                  case 1:
                    return t2 = r10.sent(), n7 = t2.access_token, o8 = t2.id_token, i7 = t2.expires_in, F2(e10), B2(n7), q(new Date(Date.now() + 1e3 * i7)), W2(), o8 ? (G2(o8), [4, je(o8, e10)]) : [3, 3];
                  case 2:
                    (a11 = r10.sent()) && $2(a11), r10.label = 3;
                  case 3:
                    return (c15 = A2.parse(location.hash).context_token) ? (I3(He(c15)), [3, 6]) : [3, 4];
                  case 4:
                    return [4, Ye()];
                  case 5:
                    r10.sent(), r10.label = 6;
                  case 6:
                    return [2];
                }
                var s11, l13, f14, u13, d8;
              });
            });
          }, c14.label = 1;
        case 1:
          return c14.trys.push([1, 3, , 4]), [4, n6()];
        case 2:
          return c14.sent(), [3, 4];
        case 3:
          throw o7 = c14.sent(), i6 = o7, W2(), i6;
        case 4:
          return [2];
      }
    });
  });
}
function $e() {
  return __awaiter(this, void 0, void 0, function() {
    var e10, n6, o7, i6, a10, c14, l13 = this;
    return __generator(this, function(f14) {
      switch (f14.label) {
        case 0:
          return (n6 = ut()) ? [3, 2] : [4, st(f6.SUB)];
        case 1:
          n6 = f14.sent(), f14.label = 2;
        case 2:
          return (e10 = n6).isReady() ? (o7 = x(8), [4, e10.getData("appData")]) : [3, 8];
        case 3:
          return i6 = f14.sent(), a10 = i6.eventName, c14 = i6.data, a10 !== d5.NOT_FOUND ? [3, 6] : [4, e10.teardown()];
        case 4:
          return f14.sent(), [4, $e()];
        case 5:
          return [2, f14.sent()];
        case 6:
          c14 && N2(JSON.stringify(c14)), f14.label = 7;
        case 7:
          return e10.listen(function(n7) {
            return __awaiter(l13, void 0, void 0, function() {
              var t2, i7;
              return __generator(this, function(r10) {
                return t2 = n7.context, i7 = t2.data, t2.eventName === C.INIT && (null == i7 ? void 0 : i7.subWindowId) !== o7 && r8(), t2.eventName !== C.CANCEL && t2.eventName !== C.SUBMIT || e10.teardown(), [2];
              });
            });
          }), e3() && e10.send({ eventName: C.INIT, data: { subWindowId: o7, hasOpener: !!window.opener } }), [3, 10];
        case 8:
          return lt() ? [3, 10] : [4, new Promise(function(e11) {
            window.addEventListener("message", /* @__PURE__ */ function(e12) {
              return function t2(r10) {
                var n7 = r10.data, o8 = r10.source, i7 = r10.origin;
                if (n7) {
                  var a11 = n7.type, c15 = n7.message;
                  a11 === R && (window.removeEventListener("message", t2), c15 && N2(c15), ft(i7), o8 && o8.postMessage && o8.postMessage({ status: R }, i7), e12());
                }
              };
            }(e11));
          })];
        case 9:
          return [2, f14.sent()];
        case 10:
          return [2];
      }
    });
  });
}
var et2 = new (function() {
  function e10() {
    var e11 = this;
    this.getAndValidateContext = function() {
      var e12 = E3();
      if (!e12) throw w(I, "Could not get Context from server.");
      if (!e12.endpointUrl) throw w(I, "Could not get endpointUrl from server.");
      if (!e12.permanentLinkPattern) throw w(I, "Could not get permanentLinkPattern from server.");
      return e12;
    }, this.decodeState = function(t2) {
      var r10 = e11.getAndValidateContext();
      t2 = t2.replace(/\n/g, "%0D%0A");
      var n6 = !r10.endpointUrl.startsWith("/?") && r10.endpointUrl.includes("/?") || !r10.endpointUrl.startsWith("/#") && r10.endpointUrl.includes("/#") || r10.endpointUrl.endsWith("/") || !t2.startsWith("/?") && t2.includes("/?") || !t2.startsWith("/#") && t2.includes("/#") || t2.endsWith("/"), o7 = new URL(r10.endpointUrl), i6 = o7.origin, a10 = o7.pathname, c14 = o7.search, s11 = new URL("".concat(i6).concat(e11.attachSlashAtStart(t2))), l13 = s11.pathname, f14 = s11.search, u13 = s11.hash, d8 = "".concat(c14).concat(c14 ? f14.replace(/\?/g, "&") : f14), h6 = "".concat(a10).concat(e11.attachSlashAtStart(l13)).replace("//", "/");
      return (h6 = e11.attachSlashAtStart("".concat(h6))).endsWith("/") && !n6 && (h6 = h6.substring(0, h6.length - 1)), "".concat(i6).concat(h6).concat(d8).concat(u13).replace(/%0D%0A/g, "\n");
    };
  }
  return e10.prototype.attachSlashAtStart = function(e11) {
    return "".concat(e11 && e11.length > 0 && !e11.startsWith("/") ? "/" : "").concat(e11);
  }, e10.prototype.invoke = function() {
    return __awaiter(this, void 0, void 0, function() {
      var e11, t2, n6, o7, i6;
      return __generator(this, function(r10) {
        switch (r10.label) {
          case 0:
            if (e11 = A2.parse(window.location.search), "string" != typeof (t2 = e11["liff.state"])) return [2];
            r10.label = 1;
          case 1:
            return r10.trys.push([1, 4, , 5]), n6 = location.href, (o7 = this.decodeState(t2)) === n6 ? [3, 3] : (e11["liff.hback"] ? location.replace(E2(o7, { "liff.hback": e11["liff.hback"] })) : location.replace(o7), [4, new Promise(function() {
            })]);
          case 2:
            r10.sent(), r10.label = 3;
          case 3:
            return [3, 5];
          case 4:
            if ((i6 = r10.sent()).code === I) throw i6;
            return i.debug(i6), [3, 5];
          case 5:
            return [2];
        }
      });
    });
  }, e10;
}())();
function tt2(e10, n6) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          if (!e10.liffId) throw w(n3, "liffId is necessary for liff.init()");
          return l4(e10), !u3() && e3() && (z() || o4()), t2 = A2.parse(window.location.search), !d3() || u3() ? [3, 2] : [4, $e()];
        case 1:
          r10.sent(), r10.label = 2;
        case 2:
          if (t2.error && t2.liffOAuth2Error) throw a10 = t2.error, c14 = t2.error_description, l13 = c14.replace(/\+/g, " "), f14 = "".concat(a10, ": ").concat(l13), w(I, f14);
          return o7 = t2.code, i6 = J2(), Boolean(o7 && !e3() && i6 && i6.codeVerifier) ? [4, Ze(t2.liffClientId)] : [3, 4];
        case 3:
          r10.sent(), r10.label = 4;
        case 4:
          return u3() ? [4, Qe(e10)] : [3, 6];
        case 5:
          return r10.sent(), [3, 8];
        case 6:
          return e3() ? [3, 8] : [4, Ye()];
        case 7:
          r10.sent(), r10.label = 8;
        case 8:
          return [4, et2.invoke()];
        case 9:
          return r10.sent(), [4, n6()];
        case 10:
          return r10.sent(), j(window.location.href), [2];
      }
      var o7, i6, a10, c14, l13, f14;
    });
  });
}
var rt2 = function(e10, t2) {
  return new Promise(function(r10, n6) {
    if (e10) {
      var o7 = document.createElement("script");
      o7.type = "module", o7.onload = function() {
        r10();
      }, o7.src = e10, document.head.appendChild(o7);
    } else n6(w(n3, t2));
  });
};
var nt2 = function(e10) {
  var t2 = "https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js";
  return t2 && e10 && (t2 = t2.replace(/\d{1,2}\.\d{1,2}\.\d{1,3}/, e10)), rt2(t2, "LUI_ALERT_URL is not defined");
};
var ot2 = function() {
  return __awaiter(void 0, void 0, void 0, function() {
    var e10;
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return e10 = function() {
            var e11, t3 = document.querySelector('script[src*="luivendor.js"]');
            if (t3 && (null === (e11 = t3.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)) || void 0 === e11 ? void 0 : e11.length)) return t3.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)[0];
          }(), e10 ? [3, 2] : [4, rt2("https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js", "LUI_VENDOR_URL is not defined")];
        case 1:
          t2.sent(), t2.label = 2;
        case 2:
          return [4, nt2(e10)];
        case 3:
          return t2.sent(), [4, (r10 = x(6), new Promise(function() {
            var e11 = document.createElement("div");
            e11.innerHTML = '<lui-alert id="'.concat("liffAlert", "-").concat(r10, '" shown title="').concat(p9("alert.android.extBrowser.autoLoginWorkaround.title"), '" message="').concat(p9("alert.android.extBrowser.autoLoginWorkaround.desc"), '" button="').concat(p9("alert.android.extBrowser.autoLoginWorkaround.button.text"), '"></lui-alert>'), document.body.appendChild(e11);
            var t3 = document.getElementById("".concat("liffAlert", "-").concat(r10));
            t3 && t3.addEventListener("lui-button-click", function() {
              var e12 = window.open(E2(window.location.href, { liffIsEscapedFromApp: "true" }), "_blank");
              e12 && (e12.location.href = E2(window.location.href, { liffIsEscapedFromApp: "true" }), window.close());
            });
          }))];
        case 4:
          return t2.sent(), [2];
      }
      var r10;
    });
  });
};
var it2 = function(e10) {
  try {
    return new URL(e10).searchParams.get("lineAppVersion");
  } catch (t2) {
    return null;
  }
};
function at2() {
  var e10;
  return __awaiter(this, void 0, void 0, function() {
    var t2, n6;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return t2 = null !== (e10 = it2(window.location.href)) && void 0 !== e10 ? e10 : it2(window.document.referrer), !!t2 && f2(t2, "13.10.0") >= 0 ? [2] : u3() || "android" !== e6() || (n6 = A2.parse(window.location.search))[o5] || n6.liffIsEscapedFromApp ? [2] : n6.liffClientId && document.referrer.includes("access.".concat("line.me")) ? (window.location.href = E2(window.location.href, { liffIsEscapedFromApp: "true" }), [2]) : n6.liffClientId && document.referrer.includes("android-app://") ? [4, ot2()] : [3, 2];
        case 1:
          r10.sent(), r10.label = 2;
        case 2:
          return n6.liffClientId && "" === document.referrer && 1 === window.history.length ? [4, ot2()] : [3, 4];
        case 3:
          r10.sent(), r10.label = 4;
        case 4:
          return !document.referrer.includes("liffClientId") || document.referrer.includes("liffIsEscapedFromApp") ? [3, 6] : [4, ot2()];
        case 5:
          r10.sent(), r10.label = 6;
        case 6:
          return [2];
      }
    });
  });
}
var ct2 = function(e10) {
  function n6() {
    var t2 = null !== e10 && e10.apply(this, arguments) || this;
    return t2.hooks = { before: new a6(), after: new a6() }, t2.internalHooks = { beforeFinished: new a6(), beforeSuccess: new a6(), error: new a6() }, t2;
  }
  return __extends(n6, e10), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "init";
  }, enumerable: false, configurable: true }), n6.prototype.install = function(e11) {
    var t2 = e11.liff;
    return this.liffForWindow = t2, this.init.bind(this);
  }, n6.prototype.init = function(e11, n7, o7) {
    return __awaiter(this, void 0, void 0, function() {
      var t2;
      return __generator(this, function(r10) {
        switch (r10.label) {
          case 0:
            return [4, this.hooks.before.call()];
          case 1:
            r10.sent(), i6 = this.liffForWindow, window && !window.liff && (window.liff = i6), r10.label = 2;
          case 2:
            return r10.trys.push([2, 9, , 11]), [4, Promise.all([Oe(this.liffForWindow), tt2(e11, this.internalHooks.beforeFinished.call)])];
          case 3:
            return r10.sent(), Ee(), [4, this.internalHooks.beforeSuccess.call()];
          case 4:
            return r10.sent(), !e11.withLoginOnExternalBrowser || e3() ? [3, 6] : (_3(), [4, new Promise(function() {
            })]);
          case 5:
            r10.sent(), r10.label = 6;
          case 6:
            return [4, at2()];
          case 7:
            return r10.sent(), [4, this.hooks.after.call()];
          case 8:
            return r10.sent(), "function" == typeof n7 && n7(), e(), [3, 11];
          case 9:
            return t2 = r10.sent(), [4, this.internalHooks.error.call(t2)];
          case 10:
            throw r10.sent(), "function" == typeof o7 && o7(t2), t2;
          case 11:
            return [2];
        }
        var i6;
      });
    });
  }, n6;
}(a);

// node_modules/@liff/get-language/lib/index.es.js
function r9() {
  return navigator.language;
}
var e9 = function(n6) {
  function e10() {
    return null !== n6 && n6.apply(this, arguments) || this;
  }
  return __extends(e10, n6), Object.defineProperty(e10.prototype, "name", { get: function() {
    return "getLanguage";
  }, enumerable: false, configurable: true }), e10.prototype.install = function() {
    return function() {
      return r9();
    };
  }, e10;
}(a);

// node_modules/@liff/get-app-language/lib/index.es.js
function f9() {
  var r10 = r5();
  if (!r10 || !u3() || "ios" !== e6()) return navigator.language;
  if (f2(r10, "14.11.0") >= 0) {
    var t2 = window.prompt("LIFF:GET_APP_LANGUAGE");
    if (t2) return t2;
  }
  return navigator.language;
}
var u10 = function(t2) {
  function i6() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(i6, t2), Object.defineProperty(i6.prototype, "name", { get: function() {
    return "getAppLanguage";
  }, enumerable: false, configurable: true }), i6.prototype.install = function() {
    return function() {
      return f9();
    };
  }, i6;
}(a);

// node_modules/@liff/permission/lib/index.es.js
function k3(r10) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, i6, o7, u13, f14, h6, v7;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return function(t3) {
            if (!U.includes(t3)) throw w(i3, "Unexpected permission name.");
            var n7 = E3();
            return !!(null == n7 ? void 0 : n7.scope.includes(t3));
          }(r10) ? (t2 = x2()) ? [4, d4(t2)] : [3, 2] : [2, { state: "unavailable" }];
        case 1:
          i6 = n6.sent(), o7 = unescape(i6.scope).split(" ");
          try {
            for (u13 = __values(o7), f14 = u13.next(); !f14.done; f14 = u13.next()) if (f14.value.includes(r10)) return [2, { state: "granted" }];
          } catch (m10) {
            h6 = { error: m10 };
          } finally {
            try {
              f14 && !f14.done && (v7 = u13.return) && v7.call(u13);
            } finally {
              if (h6) throw h6.error;
            }
          }
          return [2, { state: "prompt" }];
        case 2:
          throw w(t, "LiffId is not found.");
      }
    });
  });
}
function A4() {
  var t2, n6, e10 = E3();
  return !!e10 && ("square_chat" !== e10.type && (T4("skipChannelVerificationScreen") || !u3() && (null === (n6 = null === (t2 = e10.availability) || void 0 === t2 ? void 0 : t2.skipChannelVerificationScreen) || void 0 === n6 ? void 0 : n6.permission)));
}
function S5() {
  var t2 = c5().liffId;
  if (t2) return f5("".concat(l7("unauthorizedPermissions"), "?liffId=").concat(t2), { headers: { "Content-Type": "application/json", Accept: "application/json", Authorization: "Bearer ".concat(x2()) } });
  throw w(t, "liffId is required");
}
var T5;
var q3 = At.on;
var P3 = At.off;
var x3 = At.open;
var E5 = function() {
  function e10(e11, r10) {
    var i6 = this;
    this.onSubmit = function(e12) {
      var r11 = e12.newAccessToken, o7 = e12.ICA_ERROR;
      return __awaiter(i6, void 0, void 0, function() {
        return __generator(this, function(t2) {
          return r11 ? this.resolve({ newAccessToken: r11 }) : o7 && this.reject(w(e2, o7)), this.teardown(), [2];
        });
      });
    }, this.onClose = function() {
      return __awaiter(i6, void 0, void 0, function() {
        return __generator(this, function(t2) {
          return this.reject(w(t, "user didn't allow the agreement")), this.teardown(), [2];
        });
      });
    }, this.onCancel = function() {
      return __awaiter(i6, void 0, void 0, function() {
        return __generator(this, function(t2) {
          return this.reject(w(t, "user didn't allow the agreement")), this.teardown(), [2];
        });
      });
    }, this.onError = function(e12) {
      return __awaiter(i6, void 0, void 0, function() {
        return __generator(this, function(t2) {
          return this.reject(e12), this.teardown(), [2];
        });
      });
    }, this.resolve = e11, this.reject = r10, this.setup();
  }
  return e10.prototype.setup = function() {
    q3("submit", this.onSubmit), q3("close", this.onClose), q3("cancel", this.onCancel), q3("error", this.onError);
  }, e10.prototype.teardown = function() {
    P3("submit", this.onSubmit), P3("close", this.onClose), P3("cancel", this.onCancel), P3("error", this.onError), T5 = void 0;
  }, e10.prototype.open = function(t2) {
    var n6 = c5().liffId;
    n6 ? x3({ url: "".concat("https://liff.line.me/1656032314-Xgrw5Pmk"), appData: { liffId: n6, channelId: m2(n6), accessToken: x2() }, onBeforeTransition: t2 }).catch(this.reject) : this.reject(w(t, "liffId is required"));
  }, e10;
}();
function _4() {
  return __awaiter(this, void 0, void 0, function() {
    var e10, r10, i6 = this;
    return __generator(this, function(o7) {
      switch (o7.label) {
        case 0:
          if (!A4()) throw w(E, "SkipChannelVerificationScreen is unavailable.");
          return T5 && T5.teardown(), e10 = function() {
            return __awaiter(i6, void 0, void 0, function() {
              var t2;
              return __generator(this, function(n6) {
                switch (n6.label) {
                  case 0:
                    return [4, S5()];
                  case 1:
                    if (t2 = n6.sent(), (u3() ? t2 : t2.filter(function(t3) {
                      return "chat_message.write" !== t3;
                    })).length <= 0) throw w(E, "All permissions have already been approved.");
                    return [2];
                }
              });
            });
          }, [4, new Promise(function(t2, n6) {
            (T5 = new E5(t2, n6)).open(e10);
          })];
        case 1:
          return r10 = o7.sent().newAccessToken, B2(r10), [2];
      }
    });
  });
}
function R4(e10, o7) {
  var s11 = this;
  return function() {
    for (var c14 = [], a10 = 0; a10 < arguments.length; a10++) c14[a10] = arguments[a10];
    return __awaiter(s11, void 0, void 0, function() {
      var t2, s12, a11;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return t2 = (c14.length > 0 ? c14[c14.length - 1] : {}).ignorePermissionCheck, s12 = void 0 !== t2 && t2, [4, k3(o7)];
          case 1:
            if ("unavailable" !== (a11 = n6.sent().state)) return [3, 2];
            throw w(E, "The permission is not in LIFF app scope.");
          case 2:
            return "prompt" !== a11 || !A4() || s12 || !u3() && "chat_message.write" === o7 ? [3, 4] : [4, _4()];
          case 3:
            return n6.sent(), [3, 5];
          case 4:
            s12 && c14.pop(), n6.label = 5;
          case 5:
            return [4, e10.apply(void 0, __spreadArray([], __read(c14), false))];
          case 6:
            return [2, n6.sent()];
        }
      });
    });
  };
}
var V3 = function(t2) {
  function n6() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(n6, t2), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "permission";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    return { query: k3, requestAll: _4 };
  }, n6;
}(a);
var z3 = new V3();

// node_modules/@liff/get-profile/lib/index.es.js
function n4() {
  return f5(l7("profile"));
}
var f10 = function(t2) {
  function e10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(e10, t2), Object.defineProperty(e10.prototype, "name", { get: function() {
    return "getProfile";
  }, enumerable: false, configurable: true }), e10.prototype.install = function() {
    return R4(n4, "profile");
  }, e10;
}(a);

// node_modules/@liff/open-window/lib/index.es.js
var a8 = function(n6, i6) {
  return n6 ? "&".concat(n6.split("&").filter(function(n7) {
    return -1 === n7.indexOf("is_liff_external_open_window");
  }).join("&").concat("".concat(i6 ? "#".concat(i6) : ""))) : "".concat(i6 ? "#".concat(i6) : "");
};
function p10(n6) {
  if (!function(n7) {
    if (!n7 || "object" != typeof n7) return false;
    var t2 = n7, o7 = t2.url, e10 = t2.external, r10 = __read([typeof o7, typeof e10], 2), f14 = r10[0], l13 = r10[1];
    return "string" === f14 && "" !== o7 && ("undefined" === l13 || "boolean" === l13);
  }(n6)) throw w(i3, "Invalid parameters for liff.openWindow()");
  var u13 = r5();
  if (u3()) if (null !== u13 && "ios" === e6() && f2(u13, "9.19") >= 0 || !window._liff.postMessage) {
    var p12 = n6.url, s11 = n6.external, d8 = void 0 !== s11 && s11;
    window.open(function(n7, t2) {
      var o7, e10, r10, f14, l13, c14, u14, p13, s12;
      (function(n8) {
        return -1 !== n8.indexOf("#") && -1 !== n8.indexOf("?") && n8.indexOf("#") < n8.indexOf("?");
      })(n7) || function(n8) {
        return -1 === n8.indexOf("?") && -1 !== n8.indexOf("#");
      }(n7) ? (u14 = (o7 = __read(n7.split("#"), 2))[0], e10 = o7[1], p13 = (r10 = __read((void 0 === e10 ? "" : e10).split("?"), 2))[0], s12 = r10[1]) : (u14 = (f14 = __read(n7.split("?"), 2))[0], l13 = f14[1], s12 = (c14 = __read((void 0 === l13 ? "" : l13).split("#"), 2))[0], p13 = c14[1]);
      var d9 = a8(s12, p13);
      return "".concat(u14, "?").concat("is_liff_external_open_window", "=").concat(!!t2).concat(d9);
    }(p12, d8));
  } else w5("openWindow", n6);
  else window.open(n6.url, "_blank");
}
var s8 = function(i6) {
  function t2() {
    return null !== i6 && i6.apply(this, arguments) || this;
  }
  return __extends(t2, i6), Object.defineProperty(t2.prototype, "name", { get: function() {
    return "openWindow";
  }, enumerable: false, configurable: true }), t2.prototype.install = function() {
    return function(n6) {
      return p10(n6);
    };
  }, t2;
}(a);

// node_modules/@liff/send-messages/lib/index.es.js
var m7 = function(r10) {
  return "object" == typeof r10 && null !== r10 && function(r11) {
    return "string" == typeof r11 || r11 instanceof String;
  }(r10.type);
};
function p11(r10) {
  return Promise.reject(w(i3, r10));
}
function l11(r10) {
  if (!function(r11) {
    return Array.isArray(r11) && r11.every(m7);
  }(r10)) return p11("Parameter 'messages' must be an array of { type, ... }");
  var e10 = r10.length;
  return e10 < 1 || e10 > 5 ? p11("Number of messages should be in range 1 to ".concat(5, ".")) : f5(l7("message"), { method: "POST", body: JSON.stringify({ messages: r10 }) }).catch(c11);
}
var c11 = function(r10) {
  if ("403" === r10.code) {
    var e10 = "12.0.0" === r5(), o7 = "ios" === e6(), n6 = P();
    e10 && (o7 || n6) && window.alert("LINEã‚¢ãƒ—ãƒªã‚’LINE 12.0.1ä»¥é™ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ãã ã•ã„ã€‚\nPlease update your LINE app to LINE 12.0.1 or later.");
  }
  throw r10;
};
var g6 = function(e10) {
  function t2() {
    return null !== e10 && e10.apply(this, arguments) || this;
  }
  return __extends(t2, e10), Object.defineProperty(t2.prototype, "name", { get: function() {
    return "sendMessages";
  }, enumerable: false, configurable: true }), t2.prototype.install = function() {
    return R4(l11, "chat_message.write");
  }, t2;
}(a);

// node_modules/@liff/get-friendship/lib/index.es.js
function o6() {
  return f5(l7("friendship"));
}
var f11 = function(t2) {
  function e10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(e10, t2), Object.defineProperty(e10.prototype, "name", { get: function() {
    return "getFriendship";
  }, enumerable: false, configurable: true }), e10.prototype.install = function() {
    return R4(o6, "profile");
  }, e10;
}(a);

// node_modules/@liff/analytics/lib/index.es.js
function g7() {
  return __awaiter(this, void 0, void 0, function() {
    var t2, i6;
    return __generator(this, function(e10) {
      switch (e10.label) {
        case 0:
          if (!e3()) return [3, 6];
          e10.label = 1;
        case 1:
          return e10.trys.push([1, 5, , 6]), (t2 = Z()) && t2.sub ? [2, t2.sub] : [3, 2];
        case 2:
          return [4, n4()];
        case 3:
          if ((i6 = e10.sent()) && i6.userId) return [2, i6.userId];
          e10.label = 4;
        case 4:
          return [3, 6];
        case 5:
          return e10.sent(), i.debug("can't retrieve Mid/Uid because of something wrong"), [3, 6];
        case 6:
          return [2];
      }
    });
  });
}
function b6() {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(e10) {
      switch (e10.label) {
        case 0:
          return [4, g7()];
        case 1:
          return (t2 = e10.sent()) && "u" === t2.substring(0, 1) ? [2, t2] : [2];
      }
    });
  });
}
var I4 = function(u13) {
  function d8() {
    var t2 = null !== u13 && u13.apply(this, arguments) || this;
    return t2.utsExtra = { isLiffSuccessful: false, isLoggedIn: false, id: "", version: "" }, t2.injected = false, t2;
  }
  return __extends(d8, u13), Object.defineProperty(d8, "CUSTOMPLACEID_INIT", { get: function() {
    return "liff.init";
  }, enumerable: false, configurable: true }), Object.defineProperty(d8, "CUSTOMTYPE", { get: function() {
    return "liffSdk";
  }, enumerable: false, configurable: true }), Object.defineProperty(d8, "LiffUtsLoginStatus", { get: function() {
    return { isLoggedIn: 1, isLiffSuccessful: 2 };
  }, enumerable: false, configurable: true }), Object.defineProperty(d8.prototype, "name", { get: function() {
    return "analytics";
  }, enumerable: false, configurable: true }), d8.prototype.install = function(t2) {
    var e10 = t2.liff, i6 = t2.internalHooks;
    this.liffCore = e10, i6.init.beforeFinished(this.beforeInitFinished.bind(this)), i6.init.beforeSuccess(this.beforeInitSuccess.bind(this)), i6.init.error(this.initError.bind(this));
  }, d8.prototype.changeRatioToUTSFormat = function(t2) {
    if (t2 && Number.isFinite(t2)) return Math.round(100 * t2);
  }, d8.prototype.setExtra = function() {
    var t2, e10 = this.utsExtra, i6 = e10.isLiffSuccessful, s11 = e10.isLoggedIn, r10 = e10.id, n6 = e10.version, o7 = (s11 ? d8.LiffUtsLoginStatus.isLoggedIn : 0) | (i6 ? d8.LiffUtsLoginStatus.isLiffSuccessful : 0);
    null === (t2 = this.uts) || void 0 === t2 || t2.setExtra("liff", { id: r10, loginStatus: o7, version: n6 });
  }, d8.prototype.assignUtsExtra = function(t2) {
    Object.assign(this.utsExtra, t2);
  }, d8.prototype.setVersion = function(t2) {
    this.assignUtsExtra({ version: t2 }), i.debug("[LIFFUTS][SDK version] ".concat(t2)), this.setExtra();
  }, d8.prototype.setLiffId = function(t2) {
    this.assignUtsExtra({ id: t2 }), i.debug("[LIFFUTS][LIFFID] ".concat(t2)), this.setExtra();
  }, d8.prototype.setIsLoggedIn = function(t2) {
    this.assignUtsExtra({ isLoggedIn: t2 }), i.debug("[LIFFUTS][isLoggedIn] ".concat(t2)), this.setExtra();
  }, d8.prototype.sendLiffInit = function() {
    var t2;
    i.debug("[LIFFUTS][sendCustom] liff.init"), null === (t2 = this.uts) || void 0 === t2 || t2.sendCustom({ type: d8.CUSTOMTYPE, params: { placeId: d8.CUSTOMPLACEID_INIT } });
  }, d8.prototype.setIsLiffSuccessful = function(t2) {
    this.assignUtsExtra({ isLiffSuccessful: t2 }), i.debug("[LIFFUTS][isLiffInitSuccessful] ".concat(t2)), this.setExtra();
  }, d8.prototype.prepareReferrer = function(t2) {
    var e10 = {};
    Object.keys(t2).forEach(function(i6) {
      if (A.includes(i6)) {
        var s11 = t2[i6];
        "string" == typeof s11 && s11 && (e10[i6.replace(/^liff\.ref\./, "")] = s11);
      }
    }), Object.keys(e10).length > 0 && (this.referrer = e10);
  }, d8.prototype.beforeInitFinished = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2, i6, r10, u14, d9, h6, g10, I7, m10, L6, S7, v7;
      return __generator(this, function(e10) {
        switch (e10.label) {
          case 0:
            if (t2 = A2.parse(window.location.search), this.prepareReferrer(t2), i6 = E3(), !(r10 = null == i6 ? void 0 : i6.utsTracking)) return [2];
            if (u14 = c5(), d9 = u14.liffId, h6 = u14.analytics, "auto" !== r10.mode || !h6) return [3, 6];
            i.debug("[LIFFUTS] ".concat((/* @__PURE__ */ new Date()).toUTCString())), e10.label = 1;
          case 1:
            return e10.trys.push([1, 3, , 4]), g10 = this, [4, new Promise(function(t3, e11) {
              var i7 = window.uts, s11 = document.createElement("script");
              s11.type = "text/javascript", s11.src = "https://static.line-scdn.net/uts/edge/4.1.0/uts.js", s11.onload = function() {
                var e12 = window.uts;
                t3(e12), window.uts = i7;
              }, s11.onerror = function(t4) {
                e11(t4);
              }, document.getElementsByTagName("head")[0].appendChild(s11);
            })];
          case 2:
            return g10.uts = e10.sent(), [3, 4];
          case 3:
            return I7 = e10.sent(), i.debug("[LIFFUTS] cannot load UTS, reason: ".concat(I7)), [2];
          case 4:
            return m10 = __assign(__assign({}, h6.context), { utsId: h6.context.utsId, appName: h6.context.appName, appEnv: h6.context.appEnv || "release" }), L6 = __assign(__assign({ endpoint: "https://uts-front.line-apps.com" }, h6.options), { sampleRate: this.changeRatioToUTSFormat(r10.sendRatio), version: "current" }), this.uts.init(m10, L6), [4, b6()];
          case 5:
            (S7 = e10.sent()) && (i.debug("[LIFFUTS][mid] ".concat(S7)), this.uts.setMid(S7)), (null == i6 ? void 0 : i6.tid) && (i.debug("[LIFFUTS][tid] ".concat(i6.tid)), this.uts.setTid(i6.tid)), this.referrer && (i.debug("liff.ref.referrer", this.referrer), this.uts.setSessionParams(this.referrer)), d9 && this.setLiffId(d9), this.setIsLoggedIn(e3()), this.setVersion(r4()), v7 = C2(location.href), i.debug("[LIFFUTS][url] ".concat(v7)), this.uts.setUrl(v7), this.liffCore.analytics = this.uts, this.injected = true, e10.label = 6;
          case 6:
            return [2];
        }
      });
    });
  }, d8.prototype.beforeInitSuccess = function() {
    return this.injected && (this.setIsLiffSuccessful(true), this.sendLiffInit()), Promise.resolve();
  }, d8.prototype.initError = function() {
    return this.injected && (this.setIsLiffSuccessful(false), this.sendLiffInit()), Promise.resolve();
  }, d8;
}(a);
var m8 = function(t2) {
  i.debug("[LIFFUTS][sendCustom] liff.shareTargetPicker"), t2.sendCustom({ type: "liffSdk", params: { placeId: "liff.shareTargetPicker" } });
};

// node_modules/@liff/permanent-link/lib/index.es.js
var d7 = /([\x90\x9D\x81\x8D\x8F<"{|}>\\^`â€œâ€ºâ€žâ€¢â€šÅ½Å â€¦â€™â€”Å¾â€“â€˜â€â€¡â„¢â€°Å’Å¡Å¸â€¹Å“â€ Â¥Â¿Â©Ã¡Ã„Ã½ÃÃŽÃ°Ã´]|\n|.*#.*#|%(?![0-9A-Fa-f]{2})[^%]{0,2})/;
var g8 = function(n6) {
  if (d7.test(n6)) throw w(i3, "invalid URL.");
  var t2 = new URL(n6), r10 = t2.username, e10 = t2.password, i6 = t2.hash, o7 = t2.search;
  return { username: r10, password: e10, pathname: t2.pathname, hash: i6, origin: t2.origin, search: o7.replace(/(?:^|;|&)([^;&]*)[;&]*(?=($|;|&))/g, "$1&").replace(/&+$/g, "").replace(/^\?&/, "?") };
};
var v6 = function(n6) {
  return n6.substring(1).split("&").filter(function(n7) {
    return !/^liff\./.test(n7) && Boolean(n7);
  });
};
var w6 = function(n6, t2) {
  var r10 = n6.substring(t2.length);
  return "/" === r10 ? "" : (r10.length > 0 && "/" !== r10[0] && (r10 = "/" + r10), r10);
};
var x4 = function(r10, e10) {
  var i6, a10, o7, s11 = function(r11, e11) {
    for (var i7 = __spreadArray([], __read(r11), false), a11 = 0; a11 < e11.length; a11++) {
      var o8 = e11[a11], s12 = i7.indexOf(o8);
      s12 > -1 && i7.splice(s12, 1);
    }
    return i7;
  }((i6 = v6(r10).join("&"), a10 = new URLSearchParams(i6).toString().split("&"), o7 = i6.split("&"), a10.map(function(n6, t2) {
    return n6.endsWith("=") && !o7[t2].endsWith("=") ? n6.slice(0, -1) : n6;
  })), v6(e10)).join("&");
  return "" !== s11 ? "?".concat(s11) : "";
};
var U4 = function(n6) {
  var t2 = new RegExp("^".concat(D.join("|"))), r10 = n6.substring(1).split("&").filter(function(n7) {
    return !t2.test(n7) && Boolean(n7);
  }).join("&");
  return r10 ? "#".concat(r10) : "";
};
var b7 = function(n6, t2) {
  return 0 === t2.indexOf(n6) && (n6.endsWith("/") && (n6 = n6.substring(0, n6.length - 1)), void 0 === t2[n6.length] || "/" === t2[n6.length]);
};
var L4 = function(n6, t2) {
  var r10 = g8(n6), e10 = new URL(t2);
  if (r10.username !== e10.username || r10.password !== e10.password) throw w(i3, "invalid URL.");
  if (e10.origin !== r10.origin || !b7(e10.pathname, r10.pathname)) throw w(i3, "invalid URL.");
};
var P4 = function(n6) {
  function t2() {
    var t3 = null !== n6 && n6.apply(this, arguments) || this;
    return t3.extraParams = "", t3.getAndValidateContext = function() {
      var n7 = E3();
      if (!n7) throw w(I, "Could not get Context from server.");
      if (!n7.endpointUrl) throw w(I, "Could not get endpointUrl from server.");
      if (!n7.permanentLinkPattern) throw w(I, "Could not get permanentLinkPattern from server.");
      return n7;
    }, t3.createUrl = function() {
      var n7 = t3.getAndValidateContext(), r10 = window.location, e10 = r10.pathname, i6 = r10.search, a10 = r10.hash, s11 = r10.origin, l13 = new URL(n7.endpointUrl);
      if (l13.origin !== s11 || !b7(l13.pathname, e10)) throw w(n3, "Current page is not under entrypoint.");
      var p12 = e10.substring(l13.pathname.length);
      p12.length > 0 && "/" !== p12[0] && (p12 = "/" + p12);
      var m10 = new RegExp("^".concat(D.join("|"))), d8 = a10.substring(1).split("&").filter(function(n8) {
        return !m10.test(n8) && Boolean(n8);
      }).join("&"), g10 = d8 === l13.hash.substring(1) ? "" : d8, v7 = function(n8) {
        return n8.substring(1).split("&").filter(function(n9) {
          return !/liff\.state/.test(n9) && Boolean(n9);
        });
      }, w7 = v7(i6), x6 = v7(l13.search);
      t3.extraParams && w7.push(t3.extraParams);
      for (var U6 = 0; U6 < x6.length; U6++) {
        var L6 = x6[U6], P6 = w7.indexOf(L6);
        P6 > -1 && w7.splice(P6, 1);
      }
      var y6 = w7.join("&"), R6 = "".concat(p12).concat("" !== y6 ? "?".concat(y6) : "").concat(g10 ? "#".concat(g10) : "");
      return "".concat(s2).concat(c5().liffId).concat(R6);
    }, t3.createUrlBy = function(n7) {
      return __awaiter(t3, void 0, void 0, function() {
        var t4, r10, e10, a10, o7, u13;
        return __generator(this, function(i6) {
          if (!(t4 = c5().liffId)) throw w(I, "Should run after liff init.");
          return r10 = this.getAndValidateContext(), L4(n7, r10.endpointUrl), e10 = g8(n7), a10 = new URL(r10.endpointUrl), o7 = r10.miniDomainAllowed ? a2 : s2, u13 = r10.miniDomainAllowed && r10.miniAppId ? r10.miniAppId : t4, [2, o7.concat(u13, w6(e10.pathname, a10.pathname), x4(e10.search, a10.search), U4(e10.hash))];
        });
      });
    }, t3.setExtraQueryParam = function(n7) {
      t3.extraParams = n7;
    }, t3.install = function() {
      return { createUrl: t3.createUrl, createUrlBy: t3.createUrlBy, setExtraQueryParam: t3.setExtraQueryParam };
    }, t3;
  }
  return __extends(t2, n6), Object.defineProperty(t2.prototype, "name", { get: function() {
    return "permanentLink";
  }, enumerable: false, configurable: true }), t2;
}(a);
var y5 = new P4();

// node_modules/@liff/scan-code-v2/lib/index.es.js
var s9;
var u11 = function() {
  function o7(o8, t2) {
    var n6 = this;
    this.resolve = o8, this.reject = t2, this.onSubmit = function(o9) {
      var t3 = o9.message;
      n6.resolve({ value: t3 }), n6.destroy();
    }, this.onClose = function() {
      n6.resolve({ value: null }), n6.destroy();
    }, this.onCancel = function() {
      n6.resolve({ value: null }), n6.destroy();
    }, this.onError = function(o9) {
      n6.reject(o9), n6.destroy();
    }, this.start();
  }
  return o7.prototype.start = function() {
    At.on("submit", this.onSubmit), At.on("close", this.onClose), At.on("cancel", this.onCancel), At.on("error", this.onError);
  }, o7.prototype.destroy = function() {
    At.off("submit", this.onSubmit), At.off("close", this.onClose), At.off("cancel", this.onCancel), At.off("error", this.onError), s9 = void 0;
  }, o7;
}();
function f12() {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(o7) {
      return C4.scanCodeV2(), s9 && s9.destroy(), [2, new Promise(function(o8, t2) {
        s9 = new u11(o8, t2), At.open({ url: "https://liff.line.me/1656359117-jxmx5e11" }).catch(function(o9) {
          null == s9 || s9.destroy(), t2(o9);
        });
      })];
    });
  });
}
var l12 = function(t2) {
  function n6() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(n6, t2), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "scanCodeV2";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    return f12;
  }, n6;
}(a);
var c12 = new l12();

// node_modules/@liff/window-postmessage/lib/index.es.js
var n5 = {};
function i5() {
  return n5;
}
function s10(e10, r10) {
  var o7 = i5(), n6 = __read(r10.split("."), 1)[0], s11 = o7[r10];
  s11 && e10.removeEventListener(n6, s11), o7[r10] = null;
}
var f13 = false;
var a9 = false;
function c13(e10, r10, o7, i6) {
  f13 || (a9 = function() {
    var t2 = false;
    try {
      var e11 = Object.defineProperty({}, "passive", { get: function() {
        return t2 = true, false;
      } });
      window.addEventListener("test", e11, e11), window.removeEventListener("test", e11, e11);
    } catch (r11) {
      t2 = false;
    }
    return t2;
  }(), f13 = true);
  var c14 = __read(r10.split("."), 1)[0];
  return new Promise(function(t2) {
    var f14 = function(n6) {
      t2(n6), o7 && o7(n6), i6 && i6.once && s10(e10, r10);
    };
    !function(t3, e11) {
      n5[t3] = e11;
    }(r10, f14), e10.addEventListener(c14, f14, !!a9 && i6);
  });
}
function u12(t2, o7, n6, i6) {
  if (void 0 === n6 && (n6 = {}), "object" != typeof t2 || !t2.postMessage) throw w(i3, "target must be window object");
  if ("string" != typeof o7) throw w(i3, "keyname must be string");
  if ("object" != typeof n6) throw w(i3, "incorrect body format. It should be Object or Array comprised of Object");
  if (!i6) throw w(i3, "serverEndPointUrl isn't passed. please fill up with proper url");
  if ("*" === i6) throw new Error("serverEndPointUrl doesn't allow to set '*'");
  var s11 = { name: o7, body: n6 };
  t2.postMessage(s11, i6);
}
function m9(t2, e10, r10, n6) {
  c13(t2, "message.".concat(e10), /* @__PURE__ */ function(t3, e11, r11) {
    return function(n7) {
      i.debug("messageReceive", n7), n7.origin === r11 && n7.data.name === t3 && e11(n7);
    };
  }(e10, r10, n6));
}

// node_modules/@liff/share-target-picker/lib/index.es.js
var I5 = function() {
  function i6() {
    this.payloadToShareTargetPicker = null, this.popupWindow = null, this.doesWaitForSubwindowResult = false;
  }
  return i6.getInstance = function() {
    return i6.instance ? i6.instance.reset() : i6.instance = new i6(), i6.instance;
  }, i6.prototype.init = function(i7) {
    return __awaiter(this, void 0, void 0, function() {
      var t2, r10;
      return __generator(this, function(e10) {
        switch (e10.label) {
          case 0:
            return e10.trys.push([0, 5, , 6]), this.liffId = i7.referrer.liffId, this.doesWaitForSubwindowResult = !(!i7.options || !i7.options.waitForSubwindowResult), this.allowPostMessageOrigin = this.initAllowPostMessageOrigin(), this.payloadToShareTargetPicker = this.buildPayloadToShareTargetPicker(i7), window.AbortController && (this.abortController = new window.AbortController()), this.prepareAnotherWindow(), [4, this.initOtt()];
          case 1:
            return e10.sent(), this.initListener(), this.openAnotherWindow(), this.doesWaitForSubwindowResult ? [4, this.pollingShareResult()] : [3, 3];
          case 2:
            return t2 = e10.sent(), this.finalize(), [2, t2];
          case 3:
          case 6:
            return [2];
          case 4:
            return [3, 6];
          case 5:
            if (r10 = e10.sent(), this.finalize(), "AbortError" !== r10.name) throw r10;
            return [3, 6];
        }
      });
    });
  }, i6.prototype.resetAllVariables = function() {
    this.liffId = "", this.allowPostMessageOrigin = "", this.payloadToShareTargetPicker = null, this.ott = "", this.popupWindow = null, this.timeoutIDForHealthCheck = null, this.abortController = null, this.internalError = null, this.doesWaitForSubwindowResult = false;
  }, i6.prototype.reset = function() {
    this.finalize(), this.resetAllVariables();
  }, i6.prototype.finalize = function() {
    var t2, e10;
    this.abortController && this.abortController.abort(), u3() || (t2 = this.timeoutIDForHealthCheck, e10 = this.popupWindow, s10(window, "message.receivedHealthcheck"), t2 && clearTimeout(t2), e10 && !e10.closed && e10.close());
  }, i6.prototype.buildPayloadToShareTargetPicker = function(t2) {
    return { messages: t2.messages, isMultiple: t2.isMultiple, referrer: t2.referrer };
  }, i6.prototype.initAllowPostMessageOrigin = function(t2) {
    return void 0 === t2 && (t2 = l7("shareTargetPicker")), T2(t2);
  }, i6.prototype.initOtt = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2, i7, r10;
      return __generator(this, function(e10) {
        switch (e10.label) {
          case 0:
            return this.abortController && (t2 = this.abortController.signal), i7 = "".concat(l7("shareTargetPickerOtt"), "/").concat(this.liffId, "/ott"), r10 = this, [4, f5(i7, { method: "GET", signal: t2 }).then(function(t3) {
              return t3.ott;
            })];
          case 1:
            return r10.ott = e10.sent(), [2];
        }
      });
    });
  }, i6.prototype.prepareAnotherWindow = function() {
    u3() || ("ios" !== e6() || P() ? this.popupWindow = window.open("", "liffpopup", "width=480, height=640, menubar=no, toolbar=no, scrollbars=yes") : this.popupWindow = window.open());
  }, i6.prototype.openAnotherWindow = function() {
    if (u3() && this.payloadToShareTargetPicker) t2 = this.liffId, e10 = this.ott, i7 = this.payloadToShareTargetPicker, o7 = { liffId: t2, ott: e10, data: JSON.stringify(i7), closeModals: false }, location.href = "".concat("line://picker", "?").concat(A2.stringify(o7));
    else {
      if (this.timeoutIDForHealthCheck = window.setTimeout(this.healthCheck.bind(this), 1e3), !this.popupWindow) throw w(f);
      !function(t3, e11, i8) {
        var r10 = { liffId: e11, ott: i8 };
        t3.location.href = "".concat(l7("shareTargetPicker"), "?").concat(A2.stringify(r10));
      }(this.popupWindow, this.liffId, this.ott);
    }
    var t2, e10, i7, o7;
  }, i6.prototype.initListener = function() {
    var t2, e10;
    u3() || (t2 = this.onReceivedHealthcheck.bind(this), e10 = this.allowPostMessageOrigin, m9(window, "receivedHealthcheck", t2, e10));
  }, i6.prototype.healthCheck = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2;
      return __generator(this, function(e10) {
        switch (e10.label) {
          case 0:
            if (this.popupWindow && !this.popupWindow.closed) return [3, 7];
            if (!this.doesWaitForSubwindowResult) return [3, 5];
            e10.label = 1;
          case 1:
            return e10.trys.push([1, 3, , 4]), [4, this.onCanceled()];
          case 2:
            return e10.sent(), [3, 4];
          case 3:
            return t2 = e10.sent(), this.internalError = t2, [3, 4];
          case 4:
            return [3, 6];
          case 5:
            this.finalize(), e10.label = 6;
          case 6:
            return [3, 8];
          case 7:
            i7 = this.popupWindow, r10 = this.allowPostMessageOrigin, u12(i7, "healthcheck", void 0, r10), this.timeoutIDForHealthCheck = window.setTimeout(this.healthCheck.bind(this), 1e3), e10.label = 8;
          case 8:
            return [2];
        }
        var i7, r10;
      });
    });
  }, i6.prototype.onReceivedHealthcheck = function() {
    if (!this.popupWindow || !this.payloadToShareTargetPicker) throw w(f);
    var t2, e10, i7;
    t2 = this.popupWindow, e10 = this.payloadToShareTargetPicker, i7 = this.allowPostMessageOrigin, u12(t2, "ready", e10, i7);
  }, i6.prototype.onCanceled = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2, i7;
      return __generator(this, function(e10) {
        switch (e10.label) {
          case 0:
            if (u3() || !this.ott) throw new Error("need to call with ott in client");
            return this.abortController && (t2 = this.abortController.signal), i7 = { liffId: this.liffId, ott: this.ott }, [4, f5("".concat(l7("shareTargetPickerResult"), "?").concat(A2.stringify(i7)), { method: "POST", signal: t2, headers: { Accept: "application/json", "Content-Type": "application/x-www-form-urlencoded" }, body: "result=CANCEL" })];
          case 1:
            return [2, "ok" === e10.sent().status];
        }
      });
    });
  }, i6.prototype.getShareResult = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2, i7;
      return __generator(this, function(e10) {
        if (!this.ott) throw new Error("need to call with ott in client");
        return this.abortController && (t2 = this.abortController.signal), i7 = { liffId: this.liffId, ott: this.ott }, i.debug("fetch: getShareResult"), [2, f5("".concat(l7("shareTargetPickerResult"), "?").concat(A2.stringify(i7)), { method: "GET", headers: { Accept: "application/json" }, signal: t2 })];
      });
    });
  }, i6.isPollingTimeOut = function(t2, e10) {
    return (e10 - t2) / 6e4 >= 10;
  }, i6.prototype.pollingShareResult = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2, r10;
      return __generator(this, function(e10) {
        switch (e10.label) {
          case 0:
            t2 = Date.now(), e10.label = 1;
          case 1:
            if (i6.isPollingTimeOut(t2, Date.now())) return [3, 4];
            if (this.internalError) throw this.internalError;
            return [4, this.getShareResult()];
          case 2:
            if ((r10 = e10.sent()) && r10.result) switch (r10.result) {
              case "SUCCESS":
                return [2, { status: "success" }];
              case "CANCEL":
                return [2];
              default:
                throw new Error(r10.resultDescription);
            }
            return [4, new Promise(function(t3) {
              setTimeout(t3, 500);
            })];
          case 3:
            return e10.sent(), [3, 1];
          case 4:
            throw new Error("Timeout: not finished within ".concat(10, "min"));
        }
      });
    });
  }, i6;
}();
var A5 = function(r10) {
  function l13() {
    var i6 = null !== r10 && r10.apply(this, arguments) || this;
    return i6.shareTargetPicker = function(r11, l14) {
      return void 0 === l14 && (l14 = {}), __awaiter(i6, void 0, void 0, function() {
        var t2, i7, h6, c14, b8, y6, v7;
        return __generator(this, function(e10) {
          switch (e10.label) {
            case 0:
              if (C4.shareTargetPicker(), !r11 || !Array.isArray(r11) || 0 === r11.length) throw w(i3, "no proper argument");
              if (r11.length > O) throw w(i3, "exceed the limit of num of messages");
              if (!(t2 = c5().liffId)) throw w(n3);
              window.liff && (i7 = window.liff).analytics && m8(i7.analytics), h6 = void 0 === l14.isMultiple || l14.isMultiple, e10.label = 1;
            case 1:
              return e10.trys.push([1, 3, , 4]), c14 = I5.getInstance(), b8 = r5(), y6 = { waitForSubwindowResult: true }, u3() && b8 && f2(b8, "10.11.0") < 0 && (y6.waitForSubwindowResult = false), [4, c14.init({ messages: r11, isMultiple: h6, referrer: { liffId: t2, url: location.origin }, options: y6 })];
            case 2:
              return [2, e10.sent()];
            case 3:
              throw (v7 = e10.sent()) instanceof h ? v7 : w(N, v7.message);
            case 4:
              return [2];
          }
        });
      });
    }, i6;
  }
  return __extends(l13, r10), Object.defineProperty(l13.prototype, "name", { get: function() {
    return "shareTargetPicker";
  }, enumerable: false, configurable: true }), l13.prototype.install = function() {
    return this.shareTargetPicker;
  }, l13;
}(a);
var R5 = new A5();

// node_modules/@liff/create-shortcut-on-home-screen/lib/index.es.js
function S6(n6, e10) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, i6;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return t2 = l7("createShortcutOnHomeScreen"), (i6 = new URL(t2)).searchParams.append("liffId", n6), i6.searchParams.append("url", e10.url), e10.description && i6.searchParams.append("description", e10.description), [4, f5(i6.toString())];
        case 1:
          return [2, r10.sent().shortcutPageUrl];
      }
    });
  });
}
function g9(t2) {
  if (F(t2)) throw w(i3, "LINE URL scheme are not supported in the current environment.");
}
function I6(n6, e10) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return u3() ? [2] : [4, new Promise(function(t3) {
            setTimeout(t3, 1e3);
          })];
        case 1:
          return r10.sent(), "hidden" === document.visibilityState ? [2] : (g9(e10.url), [4, S6(n6, e10)]);
        case 2:
          return t2 = r10.sent(), p10({ url: t2, external: true }), [2];
      }
    });
  });
}
function O4(n6, e10) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, i6;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return t2 = { liffId: n6, targetUrl: e10.url, description: e10.description }, i6 = "".concat("line://shortcut/liff", "?").concat(A2.stringify(t2)), location.href = i6, [4, I6(n6, e10)];
        case 1:
          return r10.sent(), [2];
      }
    });
  });
}
function P5(n6, e10) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return g9(e10.url), [4, S6(n6, e10)];
        case 1:
          return t2 = r10.sent(), p10({ url: t2, external: true }), [2];
      }
    });
  });
}
function H4(t2) {
  var r10;
  if (void 0 === t2.url || null === t2.url || "" === t2.url) throw w(i3, "no proper argument");
  var n6 = E3();
  if (!(null === (r10 = null == n6 ? void 0 : n6.availability.addToHomeLineScheme) || void 0 === r10 ? void 0 : r10.permission)) {
    if (F(t2.url)) throw w(E, "No permission to specify line schema in url.");
    if (t2.description) throw w(E, "No permission to specify description.");
  }
  if (!F(t2.url)) {
    if (!n6) throw w(E, "Could not get Context from server.");
    n6.liffId !== k(t2.url) && L4(t2.url, n6.endpointUrl);
  }
}
function L5(n6) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return H4(n6), C4.internalCreateShortcutOnHomeScreen(), [4, x5(n6)];
        case 1:
          return t2.sent(), [2];
      }
    });
  });
}
function U5(n6) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return H4(n6), C4.createShortcutOnHomeScreen(), [4, x5(n6)];
        case 1:
          return t2.sent(), [2];
      }
    });
  });
}
function x5(n6) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          if (!(t2 = c5().liffId)) throw w(I, "Invalid LIFF ID.");
          return "ios" === e6() ? [4, P5(t2, n6)] : [3, 2];
        case 1:
          return r10.sent(), [3, 4];
        case 2:
          return [4, O4(t2, n6)];
        case 3:
          r10.sent(), r10.label = 4;
        case 4:
          return [2];
      }
    });
  });
}
var C5 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "createShortcutOnHomeScreen";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function(t3) {
      return U5(t3);
    };
  }, r10;
}(a);
var N3 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "internalCreateShortcutOnHomeScreen";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function(t3) {
      return L5(t3);
    };
  }, r10;
}(a);

// node_modules/@line/liff/index.mjs
var liffInstance = {};
var liff$1 = Object.defineProperties(liffInstance, {
  getOS: {
    value: e6,
    enumerable: true,
    writable: true
  },
  getVersion: {
    value: r4,
    enumerable: true,
    writable: true
  },
  getLanguage: {
    value: r9,
    enumerable: true,
    writable: true
  },
  getAppLanguage: {
    value: f9,
    enumerable: true,
    writable: true
  },
  isInClient: {
    value: u3,
    enumerable: true,
    writable: true
  },
  isLoggedIn: {
    value: e3,
    enumerable: true,
    writable: true
  },
  logout: {
    value: o4,
    enumerable: true,
    writable: true
  },
  getAccessToken: {
    value: x2,
    enumerable: true,
    writable: true
  },
  getIDToken: {
    value: X,
    enumerable: true,
    writable: true
  },
  getDecodedIDToken: {
    value: Z,
    enumerable: true,
    writable: true
  },
  getContext: {
    value: E3,
    enumerable: true,
    writable: true
  },
  openWindow: {
    value: p10,
    enumerable: true,
    writable: true
  },
  closeWindow: {
    value: r8,
    enumerable: true,
    writable: true
  },
  getFriendship: {
    value: R4(o6, "profile"),
    enumerable: true,
    writable: true
  },
  getAId: {
    value: y2,
    enumerable: true,
    writable: true
  },
  getProfilePlus: {
    value: S3,
    enumerable: true,
    writable: true
  },
  getIsVideoAutoPlay: {
    value: _,
    enumerable: true,
    writable: true
  },
  getLineVersion: {
    value: r5,
    enumerable: true,
    writable: true
  },
  isApiAvailable: {
    value: T4,
    enumerable: true,
    writable: true
  },
  getProfile: {
    value: R4(n4, "profile"),
    enumerable: true,
    writable: true
  },
  sendMessages: {
    value: R4(l11, "chat_message.write"),
    enumerable: true,
    writable: true
  },
  subWindow: {
    value: At,
    enumerable: true,
    writable: true
  },
  ready: {
    value: n2,
    enumerable: true,
    writable: true
  },
  id: {
    get: function() {
      return c5().liffId || null;
    },
    enumerable: true
  },
  _dispatchEvent: {
    value: v5,
    enumerable: true,
    writable: true
  },
  _call: {
    value: w5,
    enumerable: true,
    writable: true
  },
  _addListener: {
    value: s6,
    enumerable: true,
    writable: true
  },
  _removeListener: {
    value: u7,
    enumerable: true,
    writable: true
  },
  _postMessage: {
    value: p8,
    enumerable: true,
    writable: true
  }
});
var driver = new u();
var contextHolder = new s(driver, liff$1);
var use = new c(driver, contextHolder).install();
function applyModule(module) {
  use.call(liff$1, module);
}
[
  new c(driver, contextHolder),
  new b5(),
  new ct2(),
  new I4(),
  c12,
  y5,
  m4,
  z3,
  R5,
  h5,
  new f4(),
  new C5(),
  new N3()
].forEach(applyModule);
var liff = liff$1;
export {
  liff as default,
  liff
};
//# sourceMappingURL=liff-HMEZGOPC.js.map
