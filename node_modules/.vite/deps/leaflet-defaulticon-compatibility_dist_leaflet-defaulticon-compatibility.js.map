{
  "version": 3,
  "sources": ["../../leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.js"],
  "sourcesContent": ["(function (global, factory) {\r\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(require('leaflet')) :\r\n\ttypeof define === 'function' && define.amd ? define(['leaflet'], factory) :\r\n\t(factory(global.L));\r\n}(this, (function (L) { 'use strict';\r\n\r\n\tL.Icon.Default.mergeOptions({\r\n\t\t// Erase default options, so that they can be overridden by _initializeOptions if not supplied.\r\n\t\ticonUrl: null,\r\n\t\ticonRetinaUrl: null,\r\n\t\tshadowUrl: null,\r\n\t\ticonSize: null,\r\n\t\ticonAnchor: null,\r\n\t\tpopupAnchor: null,\r\n\t\ttooltipAnchor: null,\r\n\t\tshadowSize: null,\r\n\r\n\t\t// @option classNamePrefix: String = 'leaflet-default-icon-'\r\n\t\t// Prefix for the classes defined in CSS that contain the Icon options.\r\n\t\t// See the leaflet-defaulticon-compatibility.css file as a starter.\r\n\t\t// Expected suffixes are \"icon\", \"shadow\", \"popup\" and \"tooltip\".\r\n\t\tclassNamePrefix: 'leaflet-default-icon-',\r\n\t});\r\n\r\n\r\n\tL.Icon.Default.include({\r\n\r\n\t\t_needsInit: true,\r\n\r\n\t\t// Override to make sure options are retrieved from CSS.\r\n\t\t_getIconUrl: function (name) {\r\n\t\t\t// @option imagePath: String\r\n\t\t\t// `Icon.Default` will try to auto-detect the location of\r\n\t\t\t// the blue icon images. If you are placing these images in a\r\n\t\t\t// non-standard way, set this option to point to the right\r\n\t\t\t// path, before any marker is added to a map.\r\n\t\t\t// Caution: do not use this option with inline base64 image(s).\r\n\t\t\tvar imagePath = this.options.imagePath || L.Icon.Default.imagePath || '';\r\n\t\t\t// Deprecated (IconDefault.imagePath), backwards-compatibility only\r\n\r\n\t\t\tif (this._needsInit) {\r\n\t\t\t\t// Modifying imagePath option after _getIconUrl has been called\r\n\t\t\t\t// once in this instance of IconDefault will no longer have any\r\n\t\t\t\t// effect.\r\n\t\t\t\tthis._initializeOptions(imagePath);\r\n\t\t\t}\r\n\r\n\t\t\treturn imagePath + L.Icon.prototype._getIconUrl.call(this, name);\r\n\t\t},\r\n\r\n\t\t// Initialize all necessary options for this instance.\r\n\t\t_initializeOptions: function (imagePath) {\r\n\t\t\tthis._setOptions('icon', _detectIconOptions, imagePath);\r\n\t\t\tthis._setOptions('shadow', _detectIconOptions, imagePath);\r\n\t\t\tthis._setOptions('popup', _detectDivOverlayOptions);\r\n\t\t\tthis._setOptions('tooltip', _detectDivOverlayOptions);\r\n\t\t\tthis._needsInit = false;\r\n\t\t},\r\n\r\n\t\t// Retrieve values from CSS and assign to this instance options.\r\n\t\t_setOptions: function (name, detectorFn, imagePath) {\r\n\t\t\tvar options = this.options,\r\n\t\t\t    prefix = options.classNamePrefix,\r\n\t\t\t    optionValues = detectorFn(prefix + name, imagePath);\r\n\r\n\t\t\tfor (var optionName in optionValues) {\r\n\t\t\t\toptions[name + optionName] = options[name + optionName] || optionValues[optionName];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\t// Retrieve icon option values from CSS (icon or shadow).\r\n\tfunction _detectIconOptions(className, imagePath) {\r\n\t\tvar el = L.DomUtil.create('div',  className, document.body),\r\n\t\t    urlsContainer = _getBkgImageOrCursor(el),\r\n\t\t    urls = _extractUrls(urlsContainer, imagePath),\r\n\t\t    iconX = _getStyleInt(el, 'width'),\r\n\t\t    iconY = _getStyleInt(el, 'height'),\r\n\t\t    anchorNX = _getStyleInt(el, 'margin-left'),\r\n\t\t    anchorNY = _getStyleInt(el, 'margin-top');\r\n\r\n\t\tel.parentNode.removeChild(el);\r\n\r\n\t\treturn {\r\n\t\t\tUrl: urls[0],\r\n\t\t\tRetinaUrl: urls[1],\r\n\t\t\tSize: [iconX, iconY],\r\n\t\t\tAnchor: [-anchorNX, -anchorNY]\r\n\t\t};\r\n\t}\r\n\r\n\t// Retrieve anchor option values from CSS (popup or tooltip).\r\n\tfunction _detectDivOverlayOptions(className) {\r\n\t\tvar el = L.DomUtil.create('div', className, document.body),\r\n\t\t    anchorX = _getStyleInt(el, 'margin-left'),\r\n\t\t    anchorY = _getStyleInt(el, 'margin-top');\r\n\r\n\t\tel.parentNode.removeChild(el);\r\n\r\n\t\treturn {\r\n\t\t\tAnchor: [anchorX, anchorY]\r\n\t\t};\r\n\t}\r\n\r\n\t// Read the CSS url (could be path or inline base64), may be multiple.\r\n\t// First: normal icon\r\n\t// Second: Retina icon\r\n\tfunction _extractUrls(urlsContainer, imagePath) {\r\n\t\tvar re = /url\\(['\"]?([^\"']*?)['\"]?\\)/gi, // Match anything between url( and ), possibly with single or double quotes.\r\n\t\t    urls = [],\r\n\t\t    m = re.exec(urlsContainer);\r\n\r\n\t\twhile (m) {\r\n\t\t\t// Keep the entire URL from CSS rule, so that each image can have its own full URL.\r\n\t\t\t// Except in the case imagePath is provided: remove the path part (i.e. keep only the file name).\r\n\t\t\turls.push(imagePath ? _stripPath(m[1]) : m[1]);\r\n\t\t\tm = re.exec(urlsContainer);\r\n\t\t}\r\n\r\n\t\treturn urls;\r\n\t}\r\n\r\n\t// Remove anything before the last slash (/) occurrence (inclusive).\r\n\t// Caution: will give unexpected result if url is inline base64 data\r\n\t// => do not specify imagePath in that case!\r\n\tfunction _stripPath(url) {\r\n\t\treturn url.substr(url.lastIndexOf('/') + 1);\r\n\t}\r\n\r\n\tfunction _getStyleInt(el, style) {\r\n\t\treturn parseInt(_getStyle(el, style), 10);\r\n\t}\r\n\r\n\t// Factorize style reading fallback for IE8.\r\n\tfunction _getStyle(el, style) {\r\n\t\treturn L.DomUtil.getStyle(el, style) || L.DomUtil.getStyle(el, _kebabToCamelCase(style));\r\n\t}\r\n\r\n\t// When Firefox high contrast (colours override) option is enabled,\r\n\t// \"background-image\" is overridden by the browser as \"none\".\r\n\t// In that case, fallback to \"cursor\". But keep \"background-image\"\r\n\t// as primary source because IE expects cursor URL as relative to HTML page\r\n\t// instead of relative to CSS file.\r\n\tfunction _getBkgImageOrCursor(el) {\r\n\t\tvar bkgImage = _getStyle(el, 'background-image');\r\n\r\n\t\treturn bkgImage && bkgImage !== 'none' ? bkgImage : _getStyle(el, 'cursor');\r\n\t}\r\n\r\n\t// Convert kebab-case CSS property name to camelCase for IE currentStyle.\r\n\tfunction _kebabToCamelCase(prop) {\r\n\t\treturn prop.replace(/-(\\w)/g, function (str, w) {\r\n\t\t\treturn w.toUpperCase();\r\n\t\t});\r\n\t}\r\n\r\n})));\r\n"],
  "mappings": "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",
  "names": []
}
