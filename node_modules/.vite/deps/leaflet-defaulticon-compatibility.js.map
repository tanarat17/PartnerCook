{
  "version": 3,
  "sources": ["../../leaflet-defaulticon-compatibility/src/Icon.Default.compatibility.js"],
  "sourcesContent": ["import * as L from 'leaflet';\n\n\nL.Icon.Default.mergeOptions({\n\t// Erase default options, so that they can be overridden by _initializeOptions if not supplied.\n\ticonUrl: null,\n\ticonRetinaUrl: null,\n\tshadowUrl: null,\n\ticonSize: null,\n\ticonAnchor: null,\n\tpopupAnchor: null,\n\ttooltipAnchor: null,\n\tshadowSize: null,\n\n\t// @option classNamePrefix: String = 'leaflet-default-icon-'\n\t// Prefix for the classes defined in CSS that contain the Icon options.\n\t// See the leaflet-defaulticon-compatibility.css file as a starter.\n\t// Expected suffixes are \"icon\", \"shadow\", \"popup\" and \"tooltip\".\n\tclassNamePrefix: 'leaflet-default-icon-',\n});\n\n\nL.Icon.Default.include({\n\n\t_needsInit: true,\n\n\t// Override to make sure options are retrieved from CSS.\n\t_getIconUrl: function (name) {\n\t\t// @option imagePath: String\n\t\t// `Icon.Default` will try to auto-detect the location of\n\t\t// the blue icon images. If you are placing these images in a\n\t\t// non-standard way, set this option to point to the right\n\t\t// path, before any marker is added to a map.\n\t\t// Caution: do not use this option with inline base64 image(s).\n\t\tvar imagePath = this.options.imagePath || L.Icon.Default.imagePath || '';\n\t\t// Deprecated (IconDefault.imagePath), backwards-compatibility only\n\n\t\tif (this._needsInit) {\n\t\t\t// Modifying imagePath option after _getIconUrl has been called\n\t\t\t// once in this instance of IconDefault will no longer have any\n\t\t\t// effect.\n\t\t\tthis._initializeOptions(imagePath);\n\t\t}\n\n\t\treturn imagePath + L.Icon.prototype._getIconUrl.call(this, name);\n\t},\n\n\t// Initialize all necessary options for this instance.\n\t_initializeOptions: function (imagePath) {\n\t\tthis._setOptions('icon', _detectIconOptions, imagePath);\n\t\tthis._setOptions('shadow', _detectIconOptions, imagePath);\n\t\tthis._setOptions('popup', _detectDivOverlayOptions);\n\t\tthis._setOptions('tooltip', _detectDivOverlayOptions);\n\t\tthis._needsInit = false;\n\t},\n\n\t// Retrieve values from CSS and assign to this instance options.\n\t_setOptions: function (name, detectorFn, imagePath) {\n\t\tvar options = this.options,\n\t\t    prefix = options.classNamePrefix,\n\t\t    optionValues = detectorFn(prefix + name, imagePath);\n\n\t\tfor (var optionName in optionValues) {\n\t\t\toptions[name + optionName] = options[name + optionName] || optionValues[optionName];\n\t\t}\n\t}\n\n});\n\n\n// Retrieve icon option values from CSS (icon or shadow).\nfunction _detectIconOptions(className, imagePath) {\n\tvar el = L.DomUtil.create('div',  className, document.body),\n\t    urlsContainer = _getBkgImageOrCursor(el),\n\t    urls = _extractUrls(urlsContainer, imagePath),\n\t    iconX = _getStyleInt(el, 'width'),\n\t    iconY = _getStyleInt(el, 'height'),\n\t    anchorNX = _getStyleInt(el, 'margin-left'),\n\t    anchorNY = _getStyleInt(el, 'margin-top');\n\n\tel.parentNode.removeChild(el);\n\n\treturn {\n\t\tUrl: urls[0],\n\t\tRetinaUrl: urls[1],\n\t\tSize: [iconX, iconY],\n\t\tAnchor: [-anchorNX, -anchorNY]\n\t};\n}\n\n// Retrieve anchor option values from CSS (popup or tooltip).\nfunction _detectDivOverlayOptions(className) {\n\tvar el = L.DomUtil.create('div', className, document.body),\n\t    anchorX = _getStyleInt(el, 'margin-left'),\n\t    anchorY = _getStyleInt(el, 'margin-top');\n\n\tel.parentNode.removeChild(el);\n\n\treturn {\n\t\tAnchor: [anchorX, anchorY]\n\t};\n}\n\n// Read the CSS url (could be path or inline base64), may be multiple.\n// First: normal icon\n// Second: Retina icon\nfunction _extractUrls(urlsContainer, imagePath) {\n\tvar re = /url\\(['\"]?([^\"']*?)['\"]?\\)/gi, // Match anything between url( and ), possibly with single or double quotes.\n\t    urls = [],\n\t    m = re.exec(urlsContainer);\n\n\twhile (m) {\n\t\t// Keep the entire URL from CSS rule, so that each image can have its own full URL.\n\t\t// Except in the case imagePath is provided: remove the path part (i.e. keep only the file name).\n\t\turls.push(imagePath ? _stripPath(m[1]) : m[1]);\n\t\tm = re.exec(urlsContainer);\n\t}\n\n\treturn urls;\n}\n\n// Remove anything before the last slash (/) occurrence (inclusive).\n// Caution: will give unexpected result if url is inline base64 data\n// => do not specify imagePath in that case!\nfunction _stripPath(url) {\n\treturn url.substr(url.lastIndexOf('/') + 1);\n}\n\nfunction _getStyleInt(el, style) {\n\treturn parseInt(_getStyle(el, style), 10);\n}\n\n// Factorize style reading fallback for IE8.\nfunction _getStyle(el, style) {\n\treturn L.DomUtil.getStyle(el, style) || L.DomUtil.getStyle(el, _kebabToCamelCase(style));\n}\n\n// When Firefox high contrast (colours override) option is enabled,\n// \"background-image\" is overridden by the browser as \"none\".\n// In that case, fallback to \"cursor\". But keep \"background-image\"\n// as primary source because IE expects cursor URL as relative to HTML page\n// instead of relative to CSS file.\nfunction _getBkgImageOrCursor(el) {\n\tvar bkgImage = _getStyle(el, 'background-image');\n\n\treturn bkgImage && bkgImage !== 'none' ? bkgImage : _getStyle(el, 'cursor');\n}\n\n// Convert kebab-case CSS property name to camelCase for IE currentStyle.\nfunction _kebabToCamelCase(prop) {\n\treturn prop.replace(/-(\\w)/g, function (str, w) {\n\t\treturn w.toUpperCase();\n\t});\n}\n"],
  "mappings": "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",
  "names": []
}
